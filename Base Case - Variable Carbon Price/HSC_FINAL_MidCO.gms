
* Production data is from the EE report

Sets    z "zones" / z1 * z34 /

        y "Year" / 2020, 2025, 2030, 2035, 2040, 2045, 2050/

        g   "Grades" / dirty, clean, blend /
        gc(g)  "Clean grade"   / clean /
        gd(g)  "Dirt grade"   / dirty /


********** Transportation ******************************************
        l "Transport technology" / pipe_clean, pipe_dirty, truck_clean, truck_dirty, GD_repurpose_dirty, GD_Blended /
        ld(l) "Dirty Transport technology" / pipe_dirty, truck_dirty, GD_repurpose_dirty /
        lc(l) "Clean Transport technology" / pipe_clean, truck_clean /


********** Production **********************************************
        p     "Production technology" / SMR, Alkaline_elec, PEM, SOEC, Alkaline_elec_renew, PEM_renew, SOEC_renew, Alkaline_elec_solar, PEM_solar, SOEC_solar /
        pc(p) "Clean Production technology" / Alkaline_elec, PEM, SOEC, Alkaline_elec_renew, PEM_renew, SOEC_renew, Alkaline_elec_solar, PEM_solar, SOEC_solar /
        pd(p) "Dirty production technologt" / SMR /

********** Purification *******************************************
        c   "Purification technology"   / PSA_DirtyC, PSA_Blend, PSA_Dirty, PSA_Clean, Membrane_Blend  /
        cc(c)  "Purification technology with clean input" / PSA_Clean /
        cd(c)  "Purification technology with dirty input" / PSA_DirtyC, PSA_Dirty /
        cb(c)  "Purification technology with blended input" / PSA_Blend, Membrane_Blend /

            ;

*       yd = y'  and ys = y*
        Alias (y, yd, ys);
*       zd = z'
        Alias (z, zd);


* ------------ Neighbouring Zones ------------------------------------------
Table
    Neigh(z,zd)
        z1      z2      z3      z4      z5      z6      z7      z8      z9      z10     z11     z12     z13     z14     z15     z16     z17     z18     z19     z20     z21     z22     z23     z24     z25     z26     z27     z28     z29     z30     z31     z32     z33     z34
z1      0       1       0       0       0       0       0       0       1       0       0       0       1       0       0       0       0       0       0       1       0       1       0       0       0       0       0       0       0       0       0       0       0       0
z2      1       0       0       0       0       0       0       0       0       0       0       0       0       1       1       1       0       0       0       1       0       1       0       0       0       0       0       0       0       1       0       0       0       0
z3      0       0       0       0       0       1       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       0       1       0       0       0       1       0       0       0       0       0       0       0
z4      0       0       0       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0
z5      0       0       0       0       0       0       0       0       0       0       0       1       0       0       0       0       0       0       1       0       0       0       0       0       1       1       0       1       0       0       1       0       0       0
z6      0       0       1       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       1       1       0       1       0       0       0       1       0       1       0       0       0       0       1
z7      0       0       0       1       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0
z8      0       0       0       0       0       0       1       0       0       0       0       0       0       1       1       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0
z9      1       0       0       0       0       0       0       0       0       0       0       0       1       0       0       0       0       0       0       1       1       0       0       0       0       0       0       0       0       0       0       0       0       0
z10     0       0       1       0       0       0       0       0       0       0       0       0       0       1       0       1       0       0       0       0       0       0       0       0       0       0       1       0       0       0       0       0       1       0
z11     0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       1       0       0       0       1       0       0       0       1       0       0       0       0       0
z12     0       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       1       0       0       0       0       0       0       1       0       1       0       1       0       0       0       0       0       0
z13     1       0       0       0       0       0       0       0       1       0       0       0       0       0       0       0       0       1       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       0
z14     0       1       0       0       0       0       0       1       0       1       0       0       0       0       1       1       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0
z15     0       1       0       0       0       0       0       1       0       0       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       1       0       0       0       0
z16     0       1       0       0       0       0       0       0       0       1       0       0       0       1       0       0       0       0       0       1       0       0       0       0       0       0       1       0       0       0       0       1       0       0
z17     0       0       0       0       0       0       0       0       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       1       0       0       0       1       0       0       0       0       0       0
z18     0       0       0       0       0       0       0       0       0       0       0       0       1       0       0       0       0       0       0       0       0       1       0       0       0       0       0       0       0       1       0       0       0       0
z19     0       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       1       0       1       0       0       0       0       0       0       0       0       1
z20     1       1       0       0       0       1       0       0       1       0       0       0       0       0       0       1       0       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       0       0
z21     0       0       0       0       0       1       0       0       1       0       1       0       0       0       0       0       0       0       0       1       0       0       0       0       0       0       0       0       1       0       0       0       0       0
z22     1       1       0       0       0       0       0       0       0       0       0       0       1       0       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       1       0       0       0       0
z23     0       0       1       0       0       1       0       0       0       0       0       0       0       0       0       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       0       0       0       1
z24     0       0       0       0       0       0       0       0       0       0       0       1       0       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0
z25     0       0       0       0       1       0       0       0       0       0       1       0       0       0       0       0       0       0       1       0       0       0       0       0       0       0       0       0       1       0       1       0       0       1
z26     0       0       0       0       1       0       0       0       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       1       0       0       0
z27     0       0       1       0       0       1       0       0       0       1       0       0       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       1       0       0
z28     0       0       0       0       1       0       0       0       0       0       0       1       0       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0
z29     0       0       0       0       0       1       0       0       0       0       1       0       0       0       0       0       0       0       0       0       1       0       0       0       1       0       0       0       0       0       0       0       0       1
z30     0       1       0       0       0       0       0       0       0       0       0       0       0       0       1       0       0       1       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       0
z31     0       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       1       1       0       0       0       0       0       0       0       0
z32     0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       1       0       0       0       0       0       0       0       0       0       0       1       0       0       0       0       0       0       0
z33     0       0       0       0       0       0       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0       0
z34     0       0       0       0       0       1       0       0       0       0       0       0       0       0       0       0       0       0       1       0       0       0       1       0       1       0       0       0       1       0       0       0       0       0
    ;

* ------------ Distanced wihtin Zones ------------------------------------------
    Parameter dL(z,y) ;
dL('z1','2020')=159.231149714286;       dL('z1','2025')=318.462299428571;       dL('z1','2030')=477.693449142858;       dL('z1','2035')=636.924598857143;       dL('z1','2040')=796.155748571428;       dL('z1','2045')=955.386898285714;       dL('z1','2050')=1114.618048;
dL('z2','2020')=386.525571428571;       dL('z2','2025')=773.051142857143;       dL('z2','2030')=1159.57671428572;       dL('z2','2035')=1546.10228571429;       dL('z2','2040')=1932.62785714286;       dL('z2','2045')=2319.15342857143;       dL('z2','2050')=2705.679;
dL('z3','2020')=152.290749142857;       dL('z3','2025')=304.581498285714;       dL('z3','2030')=456.872247428572;       dL('z3','2035')=609.162996571429;       dL('z3','2040')=761.453745714285;       dL('z3','2045')=913.744494857143;       dL('z3','2050')=1066.035244;
dL('z4','2020')=118.281412714286;       dL('z4','2025')=236.562825428571;       dL('z4','2030')=354.844238142857;       dL('z4','2035')=473.125650857143;       dL('z4','2040')=591.407063571428;       dL('z4','2045')=709.688476285714;       dL('z4','2050')=827.969889;
dL('z5','2020')=158.29966;      dL('z5','2025')=316.59932;      dL('z5','2030')=474.898980000001;       dL('z5','2035')=633.198640000001;       dL('z5','2040')=791.4983;       dL('z5','2045')=949.79796;      dL('z5','2050')=1108.09762;
dL('z6','2020')=263.829829571429;       dL('z6','2025')=527.659659142857;       dL('z6','2030')=791.489488714286;       dL('z6','2035')=1055.31931828572;       dL('z6','2040')=1319.14914785714;       dL('z6','2045')=1582.97897742857;       dL('z6','2050')=1846.808807;
dL('z7','2020')=209.685118714286;       dL('z7','2025')=419.370237428571;       dL('z7','2030')=629.055356142858;       dL('z7','2035')=838.740474857144;       dL('z7','2040')=1048.42559357143;       dL('z7','2045')=1258.11071228571;       dL('z7','2050')=1467.795831;
dL('z8','2020')=238.767253142857;       dL('z8','2025')=477.534506285714;       dL('z8','2030')=716.301759428572;       dL('z8','2035')=955.06901257143;        dL('z8','2040')=1193.83626571429;       dL('z8','2045')=1432.60351885714;       dL('z8','2050')=1671.370772;
dL('z9','2020')=425.403766142857;       dL('z9','2025')=850.807532285714;       dL('z9','2030')=1276.21129842857;       dL('z9','2035')=1701.61506457143;       dL('z9','2040')=2127.01883071428;       dL('z9','2045')=2552.42259685714;       dL('z9','2050')=2977.826363;
dL('z10','2020')=339.405608142857;      dL('z10','2025')=678.811216285714;      dL('z10','2030')=1018.21682442857;      dL('z10','2035')=1357.62243257143;      dL('z10','2040')=1697.02804071428;      dL('z10','2045')=2036.43364885714;      dL('z10','2050')=2375.839257;
dL('z11','2020')=70.7710382857143;      dL('z11','2025')=141.542076571429;      dL('z11','2030')=212.313114857143;      dL('z11','2035')=283.084153142857;      dL('z11','2040')=353.855191428571;      dL('z11','2045')=424.626229714286;      dL('z11','2050')=495.397268;
dL('z12','2020')=480.562357142857;      dL('z12','2025')=961.124714285714;      dL('z12','2030')=1441.68707142857;      dL('z12','2035')=1922.24942857143;      dL('z12','2040')=2402.81178571428;      dL('z12','2045')=2883.37414285714;      dL('z12','2050')=3363.9365;
dL('z13','2020')=151.265874857143;      dL('z13','2025')=302.531749714286;      dL('z13','2030')=453.797624571429;      dL('z13','2035')=605.063499428572;      dL('z13','2040')=756.329374285714;      dL('z13','2045')=907.595249142857;      dL('z13','2050')=1058.861124;
dL('z14','2020')=259.687168571429;      dL('z14','2025')=519.374337142857;      dL('z14','2030')=779.061505714286;      dL('z14','2035')=1038.74867428572;      dL('z14','2040')=1298.43584285714;      dL('z14','2045')=1558.12301142857;      dL('z14','2050')=1817.81018;
dL('z15','2020')=197.348785714286;      dL('z15','2025')=394.697571428571;      dL('z15','2030')=592.046357142858;      dL('z15','2035')=789.395142857144;      dL('z15','2040')=986.743928571428;      dL('z15','2045')=1184.09271428571;      dL('z15','2050')=1381.4415;
dL('z16','2020')=251.686228571429;      dL('z16','2025')=503.372457142857;      dL('z16','2030')=755.058685714287;      dL('z16','2035')=1006.74491428572;      dL('z16','2040')=1258.43114285714;      dL('z16','2045')=1510.11737142857;      dL('z16','2050')=1761.8036;
dL('z17','2020')=594.473071428571;      dL('z17','2025')=1188.94614285714;      dL('z17','2030')=1783.41921428572;      dL('z17','2035')=2377.89228571429;      dL('z17','2040')=2972.36535714286;      dL('z17','2045')=3566.83842857143;      dL('z17','2050')=4161.3115;
dL('z18','2020')=179.280042857143;      dL('z18','2025')=358.560085714286;      dL('z18','2030')=537.840128571429;      dL('z18','2035')=717.120171428572;      dL('z18','2040')=896.400214285714;      dL('z18','2045')=1075.68025714286;      dL('z18','2050')=1254.9603;
dL('z19','2020')=136.267161285714;      dL('z19','2025')=272.534322571429;      dL('z19','2030')=408.801483857143;      dL('z19','2035')=545.068645142858;      dL('z19','2040')=681.335806428571;      dL('z19','2045')=817.602967714285;      dL('z19','2050')=953.870129;
dL('z20','2020')=236.703977;    dL('z20','2025')=473.407954;    dL('z20','2030')=710.111931000001;      dL('z20','2035')=946.815908000001;      dL('z20','2040')=1183.519885;   dL('z20','2045')=1420.223862;   dL('z20','2050')=1656.927839;
dL('z21','2020')=178.073776428571;      dL('z21','2025')=356.147552857143;      dL('z21','2030')=534.221329285715;      dL('z21','2035')=712.295105714286;      dL('z21','2040')=890.368882142857;      dL('z21','2045')=1068.44265857143;      dL('z21','2050')=1246.516435;
dL('z22','2020')=312.399311285714;      dL('z22','2025')=624.798622571428;      dL('z22','2030')=937.197933857144;      dL('z22','2035')=1249.59724514286;      dL('z22','2040')=1561.99655642857;      dL('z22','2045')=1874.39586771429;      dL('z22','2050')=2186.795179;
dL('z23','2020')=247.053297;    dL('z23','2025')=494.106594;    dL('z23','2030')=741.159891000001;      dL('z23','2035')=988.213188000001;      dL('z23','2040')=1235.266485;   dL('z23','2045')=1482.319782;   dL('z23','2050')=1729.373079;
dL('z24','2020')=167.764314285714;      dL('z24','2025')=335.528628571429;      dL('z24','2030')=503.292942857143;      dL('z24','2035')=671.057257142858;      dL('z24','2040')=838.821571428571;      dL('z24','2045')=1006.58588571429;      dL('z24','2050')=1174.3502;
dL('z25','2020')=180.391261714286;      dL('z25','2025')=360.782523428571;      dL('z25','2030')=541.173785142858;      dL('z25','2035')=721.565046857144;      dL('z25','2040')=901.956308571428;      dL('z25','2045')=1082.34757028571;      dL('z25','2050')=1262.738832;
dL('z26','2020')=186.121427142857;      dL('z26','2025')=372.242854285714;      dL('z26','2030')=558.364281428572;      dL('z26','2035')=744.485708571429;      dL('z26','2040')=930.607135714285;      dL('z26','2045')=1116.72856285714;      dL('z26','2050')=1302.84999;
dL('z27','2020')=247.941885714286;      dL('z27','2025')=495.883771428571;      dL('z27','2030')=743.825657142858;      dL('z27','2035')=991.767542857144;      dL('z27','2040')=1239.70942857143;      dL('z27','2045')=1487.65131428571;      dL('z27','2050')=1735.5932;
dL('z28','2020')=361.806971428571;      dL('z28','2025')=723.613942857143;      dL('z28','2030')=1085.42091428572;      dL('z28','2035')=1447.22788571429;      dL('z28','2040')=1809.03485714286;      dL('z28','2045')=2170.84182857143;      dL('z28','2050')=2532.6488;
dL('z29','2020')=102.005253857143;      dL('z29','2025')=204.010507714286;      dL('z29','2030')=306.015761571429;      dL('z29','2035')=408.021015428572;      dL('z29','2040')=510.026269285714;      dL('z29','2045')=612.031523142857;      dL('z29','2050')=714.036777;
dL('z30','2020')=307.872185714286;      dL('z30','2025')=615.744371428571;      dL('z30','2030')=923.616557142858;      dL('z30','2035')=1231.48874285714;      dL('z30','2040')=1539.36092857143;      dL('z30','2045')=1847.23311428571;      dL('z30','2050')=2155.1053;
dL('z31','2020')=113.391634714286;      dL('z31','2025')=226.783269428571;      dL('z31','2030')=340.174904142857;      dL('z31','2035')=453.566538857143;      dL('z31','2040')=566.958173571428;      dL('z31','2045')=680.349808285714;      dL('z31','2050')=793.741443;
dL('z32','2020')=135.043157142857;      dL('z32','2025')=270.086314285714;      dL('z32','2030')=405.129471428572;      dL('z32','2035')=540.172628571429;      dL('z32','2040')=675.215785714285;      dL('z32','2045')=810.258942857143;      dL('z32','2050')=945.3021;
dL('z33','2020')=353.838620571429;      dL('z33','2025')=707.677241142857;      dL('z33','2030')=1061.51586171429;      dL('z33','2035')=1415.35448228572;      dL('z33','2040')=1769.19310285714;      dL('z33','2045')=2123.03172342857;      dL('z33','2050')=2476.870344;
dL('z34','2020')=167.710453857143;      dL('z34','2025')=335.420907714286;      dL('z34','2030')=503.131361571429;      dL('z34','2035')=670.841815428572;      dL('z34','2040')=838.552269285714;      dL('z34','2045')=1006.26272314286;      dL('z34','2050')=1173.973177;


* ------------ Distanced Between Zones ------------------------------------------
    Parameter dR(z,zd) ;
dR('z12','z28')=105.7033116;    dR('z11','z12')=317.2705664;    dR('z15','z17')=754.5733661;    dR('z13','z26')=416.7143568;    dR('z6','z25')=118.5048554;     dR('z33','z4')=210.3014447;
dR('z12','z24')=126.0566527;    dR('z11','z28')=287.8599762;    dR('z15','z5')=411.0483668;     dR('z13','z11')=241.4927648;    dR('z6','z31')=173.8935492;     dR('z33','z7')=167.9805486;
dR('z12','z17')=169.1448744;    dR('z11','z24')=398.3085415;    dR('z15','z26')=468.1364882;    dR('z13','z25')=297.5252735;    dR('z6','z4')=387.5639979;      dR('z33','z8')=172.2098898;
dR('z12','z5')=180.3887238;     dR('z11','z17')=485.7498066;    dR('z15','z11')=321.1220612;    dR('z13','z31')=355.7235535;    dR('z6','z7')=314.4274565;      dR('z33','z15')=240.9457746;
dR('z12','z26')=138.3286443;    dR('z11','z5')=176.467077;      dR('z15','z25')=352.6694792;    dR('z13','z4')=407.8219441;     dR('z6','z8')=252.4063188;      dR('z33','z14')=165.4276944;
dR('z12','z11')=317.2705664;    dR('z11','z26')=179.0792232;    dR('z15','z31')=407.0765014;    dR('z13','z7')=325.8732361;     dR('z6','z15')=234.1732229;     dR('z33','z16')=135.8103798;
dR('z12','z25')=255.1617976;    dR('z11','z25')=69.63737802;    dR('z15','z4')=259.8328158;     dR('z13','z8')=239.9825544;     dR('z6','z14')=184.1121147;     dR('z33','z32')=158.3204588;
dR('z12','z31')=197.1882702;    dR('z11','z31')=121.9350874;    dR('z15','z7')=180.1115327;     dR('z13','z15')=154.0326098;    dR('z6','z16')=117.5769917;     dR('z33','z18')=356.0360227;
dR('z12','z4')=650.8149311;     dR('z11','z4')=487.0970463;     dR('z15','z8')=96.32158163;     dR('z13','z14')=182.7585561;    dR('z6','z32')=80.11549797;     dR('z33','z30')=304.0728881;
dR('z12','z7')=605.3951416;     dR('z11','z7')=414.3475458;     dR('z15','z14')=77.82321838;    dR('z13','z16')=193.1334181;    dR('z6','z18')=254.3769874;     dR('z33','z13')=327.7550901;
dR('z12','z8')=577.6882327;     dR('z11','z8')=350.5900762;     dR('z15','z16')=144.8808258;    dR('z13','z32')=183.2519119;    dR('z6','z30')=244.9795695;     dR('z33','z9')=334.2166305;
dR('z12','z15')=590.6491909;    dR('z11','z15')=321.1220612;    dR('z15','z32')=167.5039257;    dR('z13','z18')=63.97368813;    dR('z6','z13')=196.738547;      dR('z33','z22')=291.2699058;
dR('z12','z14')=524.9572368;    dR('z11','z14')=280.6401832;    dR('z15','z18')=142.6106856;    dR('z13','z30')=99.81910629;    dR('z6','z9')=158.7150599;      dR('z33','z1')=265.9691001;
dR('z12','z16')=450.0114963;    dR('z11','z16')=217.2913444;    dR('z15','z30')=74.79399126;    dR('z13','z9')=74.272457;       dR('z6','z22')=199.954421;      dR('z33','z20')=220.1633789;
dR('z12','z32')=423.1816717;    dR('z11','z32')=179.6779121;    dR('z15','z13')=154.0326098;    dR('z13','z22')=56.48083726;    dR('z6','z1')=150.2732275;      dR('z33','z21')=281.9459885;
dR('z12','z18')=614.4558261;    dR('z11','z18')=305.2036788;    dR('z15','z9')=211.1972397;     dR('z13','z1')=61.98405727;     dR('z6','z20')=75.59700321;     dR('z33','z6')=214.8177313;
dR('z12','z30')=609.5870013;    dR('z11','z30')=315.5285969;    dR('z15','z22')=97.62066991;    dR('z13','z20')=129.3897611;    dR('z6','z21')=70.69671831;     dR('z33','z29')=235.2962253;
dR('z12','z13')=552.6030687;    dR('z11','z13')=241.4927648;    dR('z15','z1')=121.3674101;     dR('z13','z21')=164.7505709;    dR('z6','z29')=39.273878;       dR('z33','z34')=235.2711096;
dR('z12','z9')=494.0076647;     dR('z11','z9')=177.5217618;     dR('z15','z20')=164.7051709;    dR('z13','z6')=196.738547;      dR('z6','z34')=71.88138485;     dR('z33','z27')=130.5793629;
dR('z12','z22')=564.1406861;    dR('z11','z22')=265.0684961;    dR('z15','z21')=249.5251768;    dR('z13','z29')=227.2259071;    dR('z6','z27')=84.69710219;     dR('z33','z3')=153.9596151;
dR('z12','z1')=514.0070762;     dR('z11','z1')=215.8943474;     dR('z15','z6')=234.1732229;     dR('z13','z34')=264.3956215;    dR('z6','z3')=79.84710889;      dR('z33','z23')=178.2159248;
dR('z12','z20')=440.2658876;    dR('z11','z20')=156.5479779;    dR('z15','z29')=273.4302944;    dR('z13','z27')=228.3656288;    dR('z6','z23')=86.98881045;     dR('z33','z10')=59.24796718;
dR('z12','z21')=389.2620395;    dR('z11','z21')=77.69484426;    dR('z15','z34')=303.4310715;    dR('z13','z3')=261.8349093;     dR('z6','z33')=214.8177313;     dR('z33','z19')=205.4819417;
dR('z12','z6')=364.669201;      dR('z11','z6')=99.922957;       dR('z15','z27')=205.5192925;    dR('z13','z23')=279.8915763;    dR('z6','z10')=156.6919753;     dR('z33','z2')=218.8520642;
dR('z12','z29')=328.3749955;    dR('z11','z29')=70.45833198;    dR('z15','z3')=257.2174598;     dR('z13','z33')=327.7550901;    dR('z6','z19')=115.282693;      dR('z10','z12')=419.7082797;
dR('z12','z34')=292.8278523;    dR('z11','z34')=80.41858217;    dR('z15','z23')=286.3895802;    dR('z13','z10')=275.6389131;    dR('z6','z2')=158.1055485;      dR('z10','z28')=330.0405153;
dR('z12','z27')=389.0441243;    dR('z11','z27')=180.263453;     dR('z15','z33')=240.9457746;    dR('z13','z19')=311.7624201;    dR('z29','z12')=328.3749955;    dR('z10','z24')=538.8213252;
dR('z12','z3')=335.9608919;     dR('z11','z3')=154.0137208;     dR('z15','z10')=209.7398389;    dR('z13','z2')=114.2621046;     dR('z29','z28')=276.2123985;    dR('z10','z17')=572.2479008;
dR('z12','z23')=305.3373818;    dR('z11','z23')=139.4859841;    dR('z15','z19')=325.4453324;    dR('z9','z12')=494.0076647;     dR('z29','z24')=425.8785694;    dR('z10','z5')=243.6763283;
dR('z12','z33')=441.5042043;    dR('z11','z33')=305.6630074;    dR('z15','z2')=78.07534673;     dR('z9','z28')=454.0637118;     dR('z29','z17')=496.8898563;    dR('z10','z26')=322.9458581;
dR('z12','z10')=419.7082797;    dR('z11','z10')=250.3193952;    dR('z14','z12')=524.9572368;    dR('z9','z24')=574.3518902;     dR('z29','z5')=160.2994559;     dR('z10','z11')=250.3193952;
dR('z12','z19')=266.0607153;    dR('z11','z19')=139.7602448;    dR('z14','z28')=445.9663199;    dR('z9','z17')=662.8636526;     dR('z29','z26')=197.3084798;    dR('z10','z25')=236.6857749;
dR('z12','z2')=519.3916655;     dR('z11','z2')=243.0486806;     dR('z14','z24')=635.8727003;    dR('z9','z5')=338.2433986;      dR('z29','z11')=70.45833198;    dR('z10','z31')=272.2171683;
dR('z28','z12')=105.7033116;    dR('z25','z12')=255.1617976;    dR('z14','z17')=685.9750561;    dR('z9','z26')=356.2273328;     dR('z29','z25')=79.29416002;    dR('z10','z4')=246.8321365;
dR('z28','z24')=231.4253495;    dR('z25','z28')=218.5109459;    dR('z14','z5')=344.5697001;     dR('z9','z11')=177.5217618;     dR('z29','z31')=135.3704572;    dR('z10','z7')=187.8774224;
dR('z28','z17')=242.2079447;    dR('z25','z24')=347.4145921;    dR('z14','z26')=409.00525;      dR('z9','z25')=240.0840778;     dR('z29','z4')=418.8375332;     dR('z10','z8')=162.9414617;
dR('z28','z5')=115.9895315;     dR('z25','z17')=424.3066271;    dR('z14','z11')=280.6401832;    dR('z9','z31')=297.1162524;     dR('z29','z7')=348.1010059;     dR('z10','z15')=209.7398389;
dR('z28','z26')=136.2669208;    dR('z25','z5')=107.067181;      dR('z14','z25')=299.3185692;    dR('z9','z4')=448.9740017;      dR('z29','z8')=289.4931893;     dR('z10','z14')=131.949986;
dR('z28','z11')=287.8599762;    dR('z25','z26')=119.9292157;    dR('z14','z31')=349.8099771;    dR('z9','z7')=366.9963939;      dR('z29','z15')=273.4302944;    dR('z10','z16')=82.6690819;
dR('z28','z25')=218.5109459;    dR('z25','z11')=69.63737802;    dR('z14','z4')=232.3366733;     dR('z9','z8')=283.7102941;      dR('z29','z14')=222.3252964;    dR('z10','z32')=100.0362166;
dR('z28','z31')=170.1064604;    dR('z25','z31')=58.26767425;    dR('z14','z7')=150.6461086;     dR('z9','z15')=211.1972397;     dR('z29','z16')=153.3090701;    dR('z10','z18')=309.6985018;
dR('z28','z4')=551.5215443;     dR('z25','z4')=482.6292385;     dR('z14','z8')=71.84937379;     dR('z9','z14')=216.746999;      dR('z29','z32')=116.6981969;    dR('z10','z30')=264.2676677;
dR('z28','z7')=511.2405154;     dR('z25','z7')=416.6896663;     dR('z14','z15')=77.82321838;    dR('z9','z16')=200.1169645;     dR('z29','z18')=287.2778072;    dR('z10','z13')=275.6389131;
dR('z28','z8')=491.9058263;     dR('z25','z8')=364.2820469;     dR('z14','z16')=75.03293132;    dR('z9','z32')=176.9432799;     dR('z29','z30')=282.2871155;    dR('z10','z9')=276.8057554;
dR('z28','z15')=516.8860403;    dR('z25','z15')=352.6694792;    dR('z14','z32')=106.6998656;    dR('z9','z18')=136.1844622;     dR('z29','z13')=227.2259071;    dR('z10','z22')=244.2944579;
dR('z28','z14')=445.9663199;    dR('z25','z14')=299.3185692;    dR('z14','z18')=196.3401727;    dR('z9','z30')=170.4195783;     dR('z29','z9')=179.7851953;     dR('z10','z1')=213.6738672;
dR('z28','z16')=372.554143;     dR('z25','z16')=227.5563688;    dR('z14','z30')=139.1759152;    dR('z9','z13')=74.272457;       dR('z29','z22')=235.8293461;    dR('z10','z20')=162.2550309;
dR('z28','z32')=351.1480632;    dR('z25','z32')=192.6884262;    dR('z14','z13')=182.7585561;    dR('z9','z22')=120.7458884;     dR('z29','z1')=185.6420635;     dR('z10','z21')=222.9142081;
dR('z28','z18')=561.1680586;    dR('z25','z18')=359.7731884;    dR('z14','z9')=216.746999;      dR('z9','z1')=91.99504125;      dR('z29','z20')=113.1293507;    dR('z10','z6')=156.6919753;
dR('z28','z30')=545.8973409;    dR('z25','z30')=360.004519;     dR('z14','z22')=134.9837884;    dR('z9','z20')=114.6845369;     dR('z29','z21')=77.18827118;    dR('z10','z29')=179.9105676;
dR('z28','z13')=502.872729;     dR('z25','z13')=297.5252735;    dR('z14','z1')=127.9278119;     dR('z9','z21')=106.2796443;     dR('z29','z6')=39.273878;       dR('z10','z34')=184.5441251;
dR('z28','z9')=454.0637118;     dR('z25','z9')=240.0840778;     dR('z14','z20')=130.4741127;    dR('z9','z6')=158.7150599;      dR('z29','z34')=37.26138284;    dR('z10','z27')=72.02650249;
dR('z28','z22')=504.8306082;    dR('z25','z22')=312.199629;     dR('z14','z21')=219.3174553;    dR('z9','z29')=179.7851953;     dR('z29','z27')=110.5093531;    dR('z10','z3')=103.9095235;
dR('z28','z1')=456.197223;      dR('z25','z1')=261.8854067;     dR('z14','z6')=184.1121147;     dR('z9','z34')=216.3799385;     dR('z29','z3')=85.34918959;     dR('z10','z23')=132.3554698;
dR('z28','z20')=380.2294534;    dR('z25','z20')=191.7241575;    dR('z14','z29')=222.3252964;    dR('z9','z27')=215.5738767;     dR('z29','z23')=77.52574891;    dR('z10','z33')=59.24796718;
dR('z28','z21')=348.0041273;    dR('z25','z21')=134.3812771;    dR('z14','z34')=246.8753929;    dR('z9','z3')=235.0592584;      dR('z29','z33')=235.2962253;    dR('z10','z19')=165.6203094;
dR('z28','z6')=306.8130368;     dR('z25','z6')=118.5048554;     dR('z14','z27')=135.965185;     dR('z9','z23')=245.7029256;     dR('z29','z10')=179.9105676;    dR('z10','z2')=172.3832749;
dR('z28','z29')=276.2123985;    dR('z25','z29')=79.29416002;    dR('z14','z3')=189.0121043;     dR('z9','z33')=334.2166305;     dR('z29','z19')=93.28491146;    dR('z19','z12')=266.0607153;
dR('z28','z34')=238.9592474;    dR('z25','z34')=53.92462041;    dR('z14','z23')=219.7195723;    dR('z9','z10')=276.8057554;     dR('z29','z2')=197.1412727;     dR('z19','z28')=194.8518703;
dR('z28','z27')=311.4414579;    dR('z25','z27')=175.9625235;    dR('z14','z33')=165.4276944;    dR('z9','z19')=271.4083195;     dR('z34','z12')=292.8278523;    dR('z19','z24')=378.5953311;
dR('z28','z3')=259.9241878;     dR('z25','z3')=132.7997339;     dR('z14','z10')=131.949986;     dR('z9','z2')=149.4756931;      dR('z34','z28')=238.9592474;    dR('z19','z17')=429.1830368;
dR('z28','z23')=232.289235;     dR('z25','z23')=106.8468208;    dR('z14','z19')=258.9609485;    dR('z22','z12')=564.1406861;    dR('z34','z24')=393.6068815;    dR('z19','z5')=85.76678288;
dR('z28','z33')=344.553568;     dR('z25','z33')=284.9884994;    dR('z14','z2')=69.40558217;     dR('z22','z28')=504.8306082;    dR('z34','z17')=460.8877266;    dR('z19','z26')=157.4894204;
dR('z28','z10')=330.0405153;    dR('z25','z10')=236.6857749;    dR('z16','z12')=450.0114963;    dR('z22','z24')=659.1462561;    dR('z34','z5')=123.0380787;     dR('z19','z11')=139.7602448;
dR('z28','z19')=194.8518703;    dR('z25','z19')=89.00697786;    dR('z16','z28')=372.554143;     dR('z22','z17')=732.364439;     dR('z34','z26')=164.773593;     dR('z19','z25')=89.00697786;
dR('z28','z2')=451.2705097;     dR('z25','z2')=276.4112194;     dR('z16','z24')=560.9888261;    dR('z22','z5')=391.3438438;     dR('z34','z11')=80.41858217;    dR('z19','z31')=108.2689589;
dR('z24','z12')=126.0566527;    dR('z31','z12')=197.1882702;    dR('z16','z17')=611.6645527;    dR('z22','z26')=432.0304655;    dR('z34','z25')=53.92462041;    dR('z19','z4')=411.3335205;
dR('z24','z28')=231.4253495;    dR('z31','z28')=170.1064604;    dR('z16','z5')=269.6390046;     dR('z22','z11')=265.0684961;    dR('z34','z31')=103.7335746;    dR('z19','z7')=352.8977127;
dR('z24','z17')=134.943807;     dR('z31','z24')=290.5570398;    dR('z16','z26')=334.6156238;    dR('z22','z25')=312.199629;     dR('z34','z4')=429.5287959;     dR('z19','z8')=314.2892733;
dR('z24','z5')=295.4405171;     dR('z31','z17')=366.304379;     dR('z16','z11')=217.2913444;    dR('z22','z31')=370.0784327;    dR('z34','z7')=362.8599236;     dR('z19','z15')=325.4453324;
dR('z24','z26')=228.8658744;    dR('z31','z5')=74.1293587;      dR('z16','z25')=227.5563688;    dR('z22','z4')=353.5730965;     dR('z34','z8')=310.8118161;     dR('z19','z14')=258.9609485;
dR('z24','z11')=398.3085415;    dR('z31','z26')=62.00729304;    dR('z16','z31')=276.1073814;    dR('z22','z7')=272.0542181;     dR('z34','z15')=303.4310715;    dR('z19','z16')=183.971678;
dR('z24','z25')=347.4145921;    dR('z31','z11')=121.9350874;    dR('z16','z4')=272.9115871;     dR('z22','z8')=186.0807988;     dR('z34','z14')=246.8753929;    dR('z19','z32')=158.1076331;
dR('z24','z31')=290.5570398;    dR('z31','z25')=58.26767425;    dR('z16','z7')=197.4379925;     dR('z22','z15')=97.62066991;    dR('z34','z16')=174.2176413;    dR('z19','z18')=367.9360361;
dR('z24','z4')=774.4747683;     dR('z31','z4')=518.8086623;     dR('z16','z8')=136.7503215;     dR('z22','z14')=134.9837884;    dR('z34','z32')=140.2032794;    dR('z19','z30')=351.0959477;
dR('z24','z7')=726.0444601;     dR('z31','z7')=457.7355685;     dR('z16','z15')=144.8808258;    dR('z22','z16')=162.6553949;    dR('z34','z18')=324.1066955;    dR('z19','z13')=311.7624201;
dR('z24','z8')=692.8701976;     dR('z31','z8')=411.79228;       dR('z16','z14')=75.03293132;    dR('z22','z32')=163.5585337;    dR('z34','z30')=316.8609325;    dR('z19','z9')=271.4083195;
dR('z24','z15')=696.8158293;    dR('z31','z15')=407.0765014;    dR('z16','z32')=37.65687459;    dR('z22','z18')=65.41480419;    dR('z34','z13')=264.3956215;    dR('z19','z22')=310.2561939;
dR('z24','z14')=635.8727003;    dR('z31','z14')=349.8099771;    dR('z16','z18')=228.0232496;    dR('z22','z30')=51.76510506;    dR('z34','z9')=216.3799385;     dR('z19','z1')=262.1480734;
dR('z24','z16')=560.9888261;    dR('z31','z16')=276.1073814;    dR('z16','z30')=187.4953747;    dR('z22','z13')=56.48083726;    dR('z34','z22')=271.4778882;    dR('z19','z20')=186.0864335;
dR('z24','z32')=530.9958185;    dR('z31','z32')=243.3948064;    dR('z16','z13')=193.1334181;    dR('z22','z9')=120.7458884;     dR('z34','z1')=221.5130414;     dR('z19','z21')=170.472964;
dR('z24','z18')=703.3071039;    dR('z31','z18')=418.0391617;    dR('z16','z9')=200.1169645;     dR('z22','z1')=50.32024253;     dR('z34','z20')=147.4652227;    dR('z19','z6')=115.282693;
dR('z24','z30')=707.396037;     dR('z31','z30')=417.4139235;    dR('z16','z22')=162.6553949;    dR('z22','z20')=124.8444781;    dR('z34','z21')=111.9859472;    dR('z19','z29')=93.28491146;
dR('z24','z13')=639.7449985;    dR('z31','z13')=355.7235535;    dR('z16','z1')=131.1493849;     dR('z22','z21')=187.674213;     dR('z34','z6')=71.88138485;     dR('z19','z34')=61.67035881;
dR('z24','z9')=574.3518902;     dR('z31','z9')=297.1162524;     dR('z16','z20')=89.14540728;    dR('z22','z6')=199.954421;      dR('z34','z29')=37.26138284;    dR('z19','z27')=123.2212883;
dR('z24','z22')=659.1462561;    dR('z31','z22')=370.0784327;    dR('z16','z21')=167.8640593;    dR('z22','z29')=235.8293461;    dR('z34','z27')=122.0907837;    dR('z19','z3')=70.1889128;
dR('z24','z1')=608.9052254;     dR('z31','z1')=319.7591075;     dR('z16','z6')=117.5769917;     dR('z22','z34')=271.4778882;    dR('z34','z3')=81.42480464;     dR('z19','z23')=39.27786909;
dR('z24','z20')=538.9270224;    dR('z31','z20')=248.4870759;    dR('z16','z29')=153.3090701;    dR('z22','z27')=209.5428743;    dR('z34','z23')=60.50206436;    dR('z19','z33')=205.4819417;
dR('z24','z21')=475.2068116;    dR('z31','z21')=192.0742183;    dR('z16','z34')=174.2176413;    dR('z22','z3')=251.5532809;     dR('z34','z33')=235.2711096;    dR('z19','z10')=165.6203094;
dR('z24','z6')=464.4343509;     dR('z31','z6')=173.8935492;     dR('z16','z27')=61.32334647;    dR('z22','z23')=274.584336;     dR('z34','z10')=184.5441251;    dR('z19','z2')=257.0460775;
dR('z24','z29')=425.8785694;    dR('z31','z29')=135.3704572;    dR('z16','z3')=114.1669966;     dR('z22','z33')=291.2699058;    dR('z34','z19')=61.67035881;    dR('z2','z12')=519.3916655;
dR('z24','z34')=393.6068815;    dR('z31','z34')=103.7335746;    dR('z16','z23')=144.7133555;    dR('z22','z10')=244.2944579;    dR('z34','z2')=228.8147864;     dR('z2','z28')=451.2705097;
dR('z24','z27')=501.3126996;    dR('z31','z27')=219.9103525;    dR('z16','z33')=135.8103798;    dR('z22','z19')=310.2561939;    dR('z27','z12')=389.0441243;    dR('z2','z24')=622.3258641;
dR('z24','z3')=448.6073804;     dR('z31','z3')=170.6101652;     dR('z16','z10')=82.6690819;     dR('z22','z2')=72.46594116;     dR('z27','z28')=311.4414579;    dR('z2','z17')=685.3265125;
dR('z24','z23')=417.2478801;    dR('z31','z23')=140.2077529;    dR('z16','z19')=183.971678;     dR('z1','z12')=514.0070762;     dR('z27','z24')=501.3126996;    dR('z2','z5')=341.5314136;
dR('z24','z33')=564.4708019;    dR('z31','z33')=313.7457299;    dR('z16','z2')=92.03658724;     dR('z1','z28')=456.197223;      dR('z27','z17')=550.3421222;    dR('z2','z26')=393.4610917;
dR('z24','z10')=538.8213252;    dR('z31','z10')=272.2171683;    dR('z32','z12')=423.1816717;    dR('z1','z24')=608.9052254;     dR('z27','z5')=208.6602877;     dR('z2','z11')=243.0486806;
dR('z24','z19')=378.5953311;    dR('z31','z19')=108.2689589;    dR('z32','z28')=351.1480632;    dR('z1','z17')=682.3688643;     dR('z27','z26')=276.5643706;    dR('z2','z25')=276.4112194;
dR('z24','z2')=622.3258641;     dR('z31','z2')=331.897969;      dR('z32','z24')=530.9958185;    dR('z1','z5')=342.0894462;      dR('z27','z11')=180.263453;     dR('z2','z31')=331.897969;
dR('z17','z12')=169.1448744;    dR('z4','z12')=650.8149311;     dR('z32','z17')=587.2864616;    dR('z1','z26')=381.7102479;     dR('z27','z25')=175.9625235;    dR('z2','z4')=300.0787137;
dR('z17','z28')=242.2079447;    dR('z4','z28')=551.5215443;     dR('z32','z5')=243.5831821;     dR('z1','z11')=215.8943474;     dR('z27','z31')=219.9103525;    dR('z2','z7')=217.9180801;
dR('z17','z24')=134.943807;     dR('z4','z24')=774.4747683;     dR('z32','z26')=303.1727816;    dR('z1','z25')=261.8854067;     dR('z27','z4')=308.9284914;     dR('z2','z8')=134.2509021;
dR('z17','z5')=343.8872306;     dR('z4','z17')=788.3288197;     dR('z32','z11')=179.6779121;    dR('z1','z31')=319.7591075;     dR('z27','z7')=240.779091;      dR('z2','z15')=78.07534673;
dR('z17','z26')=306.6922208;    dR('z4','z5')=483.945842;       dR('z32','z25')=192.6884262;    dR('z1','z4')=358.8033524;      dR('z27','z8')=192.4498942;     dR('z2','z14')=69.40558217;
dR('z17','z11')=485.7498066;    dR('z4','z26')=567.4778751;     dR('z32','z31')=243.3948064;    dR('z1','z7')=276.6079018;      dR('z27','z15')=205.5192925;    dR('z2','z16')=92.03658724;
dR('z17','z25')=424.3066271;    dR('z4','z11')=487.0970463;     dR('z32','z4')=310.015426;      dR('z1','z8')=192.3392476;      dR('z27','z14')=135.965185;     dR('z2','z32')=100.8659831;
dR('z17','z31')=366.304379;     dR('z4','z25')=482.6292385;     dR('z32','z7')=235.0666736;     dR('z1','z15')=121.3674101;     dR('z27','z16')=61.32334647;    dR('z2','z18')=137.6150825;
dR('z17','z4')=788.3288197;     dR('z4','z31')=518.8086623;     dR('z32','z8')=172.7996236;     dR('z1','z14')=127.9278119;     dR('z27','z32')=46.08963571;    dR('z2','z30')=96.92290824;
dR('z17','z7')=752.3000102;     dR('z4','z7')=82.22973946;      dR('z32','z15')=167.5039257;    dR('z1','z16')=131.1493849;     dR('z27','z18')=273.2847039;    dR('z2','z13')=114.2621046;
dR('z17','z8')=733.91665;       dR('z4','z8')=167.8437182;      dR('z32','z14')=106.6998656;    dR('z1','z32')=122.9901381;     dR('z27','z30')=241.8186578;    dR('z2','z9')=149.4756931;
dR('z17','z15')=754.5733661;    dR('z4','z15')=259.8328158;     dR('z32','z16')=37.65687459;    dR('z1','z18')=106.5011866;     dR('z27','z13')=228.3656288;    dR('z2','z22')=72.46594116;
dR('z17','z14')=685.9750561;    dR('z4','z14')=232.3366733;     dR('z32','z18')=227.1951511;    dR('z1','z30')=99.64179126;     dR('z27','z9')=215.5738767;     dR('z2','z1')=58.8086491;
dR('z17','z16')=611.6645527;    dR('z4','z16')=272.9115871;     dR('z32','z30')=197.3514048;    dR('z1','z13')=61.98405727;     dR('z27','z22')=209.5428743;    dR('z2','z20')=86.71572768;
dR('z17','z32')=587.2864616;    dR('z4','z32')=310.015426;      dR('z32','z13')=183.2519119;    dR('z1','z9')=91.99504125;      dR('z27','z1')=168.7799526;     dR('z2','z21')=172.022156;
dR('z17','z18')=783.4487259;    dR('z4','z18')=402.1916081;     dR('z32','z9')=176.9432799;     dR('z1','z22')=50.32024253;     dR('z27','z20')=102.5923345;    dR('z2','z6')=158.1055485;
dR('z17','z30')=777.0099013;    dR('z4','z30')=333.2317126;     dR('z32','z22')=163.5585337;    dR('z1','z20')=76.06319314;     dR('z27','z21')=151.5383142;    dR('z2','z29')=197.1412727;
dR('z17','z13')=721.7225941;    dR('z4','z13')=407.8219441;     dR('z32','z1')=122.9901381;     dR('z1','z21')=139.0502422;     dR('z27','z6')=84.69710219;     dR('z2','z34')=228.8147864;
dR('z17','z9')=662.8636526;     dR('z4','z9')=448.9740017;      dR('z32','z20')=62.27619219;    dR('z1','z6')=150.2732275;      dR('z27','z29')=110.5093531;    dR('z2','z27')=144.9081185;
dR('z17','z22')=732.364439;     dR('z4','z22')=353.5730965;     dR('z32','z21')=131.973952;     dR('z1','z29')=185.6420635;     dR('z27','z34')=122.0907837;    dR('z2','z3')=192.3185435;
dR('z17','z1')=682.3688643;     dR('z4','z1')=358.8033524;      dR('z32','z6')=80.11549797;     dR('z1','z34')=221.5130414;     dR('z27','z3')=53.09102183;     dR('z2','z23')=218.9865366;
dR('z17','z20')=608.0332169;    dR('z4','z20')=355.8499689;     dR('z32','z29')=116.6981969;    dR('z1','z27')=168.7799526;     dR('z27','z23')=84.1442426;     dR('z2','z33')=218.8520642;
dR('z17','z21')=558.3650727;    dR('z4','z21')=440.368096;      dR('z32','z34')=140.2032794;    dR('z1','z3')=206.3978647;      dR('z27','z33')=130.5793629;    dR('z2','z10')=172.3832749;
dR('z17','z6')=532.5209528;     dR('z4','z6')=387.5639979;      dR('z32','z27')=46.08963571;    dR('z1','z23')=227.5480899;     dR('z27','z10')=72.02650249;    dR('z2','z19')=257.0460775;
dR('z17','z29')=496.8898563;    dR('z4','z29')=418.8375332;     dR('z32','z3')=91.55332663;     dR('z1','z33')=265.9691001;     dR('z27','z19')=123.2212883;
dR('z17','z34')=460.8877266;    dR('z4','z34')=429.5287959;     dR('z32','z23')=119.2882385;    dR('z1','z10')=213.6738672;     dR('z27','z2')=144.9081185;
dR('z17','z27')=550.3421222;    dR('z4','z27')=308.9284914;     dR('z32','z33')=158.3204588;    dR('z1','z19')=262.1480734;     dR('z3','z12')=335.9608919;
dR('z17','z3')=497.7174689;     dR('z4','z3')=350.335931;       dR('z32','z10')=100.0362166;    dR('z1','z2')=58.8086491;       dR('z3','z28')=259.9241878;
dR('z17','z23')=468.1837961;    dR('z4','z23')=379.1840527;     dR('z32','z19')=158.1076331;    dR('z20','z12')=440.2658876;    dR('z3','z24')=448.6073804;
dR('z17','z33')=584.7590915;    dR('z4','z33')=210.3014447;     dR('z32','z2')=100.8659831;     dR('z20','z28')=380.2294534;    dR('z3','z17')=497.7174689;
dR('z17','z10')=572.2479008;    dR('z4','z10')=246.8321365;     dR('z18','z12')=614.4558261;    dR('z20','z24')=538.9270224;    dR('z3','z5')=155.5737779;
dR('z17','z19')=429.1830368;    dR('z4','z19')=411.3335205;     dR('z18','z28')=561.1680586;    dR('z20','z17')=608.0332169;    dR('z3','z26')=225.2008181;
dR('z17','z2')=685.3265125;     dR('z4','z2')=300.0787137;      dR('z18','z24')=703.3071039;    dR('z20','z5')=266.4993705;     dR('z3','z11')=154.0137208;
dR('z5','z12')=180.3887238;     dR('z7','z12')=605.3951416;     dR('z18','z17')=783.4487259;    dR('z20','z26')=310.4376243;    dR('z3','z25')=132.7997339;
dR('z5','z28')=115.9895315;     dR('z7','z28')=511.2405154;     dR('z18','z5')=446.2345987;     dR('z20','z11')=156.5479779;    dR('z3','z31')=170.6101652;
dR('z5','z24')=295.4405171;     dR('z7','z24')=726.0444601;     dR('z18','z26')=479.3660248;    dR('z20','z25')=191.7241575;    dR('z3','z4')=350.335931;
dR('z5','z17')=343.8872306;     dR('z7','z17')=752.3000102;     dR('z18','z11')=305.2036788;    dR('z20','z31')=248.4870759;    dR('z3','z7')=287.164015;
dR('z5','z26')=89.2169416;      dR('z7','z5')=431.3600832;      dR('z18','z25')=359.7731884;    dR('z20','z4')=355.8499689;     dR('z3','z8')=244.4677386;
dR('z5','z11')=176.467077;      dR('z7','z26')=510.3869885;     dR('z18','z31')=418.0391617;    dR('z20','z7')=276.6321467;     dR('z3','z15')=257.2174598;
dR('z5','z25')=107.067181;      dR('z7','z11')=414.3475458;     dR('z18','z4')=402.1916081;     dR('z20','z8')=202.3074754;     dR('z3','z14')=189.0121043;
dR('z5','z31')=74.1293587;      dR('z7','z25')=416.6896663;     dR('z18','z7')=322.707456;      dR('z20','z15')=164.7051709;    dR('z3','z16')=114.1669966;
dR('z5','z4')=483.945842;       dR('z7','z31')=457.7355685;     dR('z18','z8')=238.1392616;     dR('z20','z14')=130.4741127;    dR('z3','z32')=91.55332663;
dR('z5','z7')=431.3600832;      dR('z7','z4')=82.22973946;      dR('z18','z15')=142.6106856;    dR('z20','z16')=89.14540728;    dR('z3','z18')=312.8235647;
dR('z5','z8')=398.2628391;      dR('z7','z8')=85.99012244;      dR('z18','z14')=196.3401727;    dR('z20','z32')=62.27619219;    dR('z3','z30')=288.3763186;
dR('z5','z15')=411.0483668;     dR('z7','z15')=180.1115327;     dR('z18','z16')=228.0232496;    dR('z20','z18')=182.1130798;    dR('z3','z13')=261.8349093;
dR('z5','z14')=344.5697001;     dR('z7','z14')=150.6461086;     dR('z18','z32')=227.1951511;    dR('z20','z30')=169.4190722;    dR('z3','z9')=235.0592584;
dR('z5','z16')=269.6390046;     dR('z7','z16')=197.4379925;     dR('z18','z30')=69.45678273;    dR('z20','z13')=129.3897611;    dR('z3','z22')=251.5532809;
dR('z5','z32')=243.5831821;     dR('z7','z32')=235.0666736;     dR('z18','z13')=63.97368813;    dR('z20','z9')=114.6845369;     dR('z3','z1')=206.3978647;
dR('z5','z18')=446.2345987;     dR('z7','z18')=322.707456;      dR('z18','z9')=136.1844622;     dR('z20','z22')=124.8444781;    dR('z3','z20')=132.4621471;
dR('z5','z30')=434.2117903;     dR('z7','z30')=254.4851142;     dR('z18','z22')=65.41480419;    dR('z20','z1')=76.06319314;     dR('z3','z21')=149.7470664;
dR('z5','z13')=387.259509;      dR('z7','z13')=325.8732361;     dR('z18','z1')=106.5011866;     dR('z20','z21')=89.08933793;    dR('z3','z6')=79.84710889;
dR('z5','z9')=338.2433986;      dR('z7','z9')=366.9963939;      dR('z18','z20')=182.1130798;    dR('z20','z6')=75.59700321;     dR('z3','z29')=85.34918959;
dR('z5','z22')=391.3438438;     dR('z7','z22')=272.0542181;     dR('z18','z21')=228.114213;     dR('z20','z29')=113.1293507;    dR('z3','z34')=81.42480464;
dR('z5','z1')=342.0894462;      dR('z7','z1')=276.6079018;      dR('z18','z6')=254.3769874;     dR('z20','z34')=147.4652227;    dR('z3','z27')=53.09102183;
dR('z5','z20')=266.4993705;     dR('z7','z20')=276.6321467;     dR('z18','z29')=287.2778072;    dR('z20','z27')=102.5923345;    dR('z3','z23')=31.44898945;
dR('z5','z21')=232.3685829;     dR('z7','z21')=362.9186176;     dR('z18','z34')=324.1066955;    dR('z20','z3')=132.4621471;     dR('z3','z33')=153.9596151;
dR('z5','z6')=191.9943982;      dR('z7','z6')=314.4274565;      dR('z18','z27')=273.2847039;    dR('z20','z23')=151.8639611;    dR('z3','z10')=103.9095235;
dR('z5','z29')=160.2994559;     dR('z7','z29')=348.1010059;     dR('z18','z3')=312.8235647;     dR('z20','z33')=220.1633789;    dR('z3','z19')=70.1889128;
dR('z5','z34')=123.0380787;     dR('z7','z34')=362.8599236;     dR('z18','z23')=333.9137839;    dR('z20','z10')=162.2550309;    dR('z3','z2')=192.3185435;
dR('z5','z27')=208.6602877;     dR('z7','z27')=240.779091;      dR('z18','z33')=356.0360227;    dR('z20','z19')=186.0864335;    dR('z23','z12')=305.3373818;
dR('z5','z3')=155.5737779;      dR('z7','z3')=287.164015;       dR('z18','z10')=309.6985018;    dR('z20','z2')=86.71572768;     dR('z23','z28')=232.289235;
dR('z5','z23')=125.0322598;     dR('z7','z23')=317.6527505;     dR('z18','z19')=367.9360361;    dR('z21','z12')=389.2620395;    dR('z23','z24')=417.2478801;
dR('z5','z33')=273.9774605;     dR('z7','z33')=167.9805486;     dR('z18','z2')=137.6150825;     dR('z21','z28')=348.0041273;    dR('z23','z17')=468.1837961;
dR('z5','z10')=243.6763283;     dR('z7','z10')=187.8774224;     dR('z30','z12')=609.5870013;    dR('z21','z24')=475.2068116;    dR('z23','z5')=125.0322598;
dR('z5','z19')=85.76678288;     dR('z7','z19')=352.8977127;     dR('z30','z28')=545.8973409;    dR('z21','z17')=558.3650727;    dR('z23','z26')=193.8800092;
dR('z5','z2')=341.5314136;      dR('z7','z2')=217.9180801;      dR('z30','z24')=707.396037;     dR('z21','z5')=232.3685829;     dR('z23','z11')=139.4859841;
dR('z26','z12')=138.3286443;    dR('z8','z12')=577.6882327;     dR('z30','z17')=777.0099013;    dR('z21','z26')=252.3876477;    dR('z23','z25')=106.8468208;
dR('z26','z28')=136.2669208;    dR('z8','z28')=491.9058263;     dR('z30','z5')=434.2117903;     dR('z21','z11')=77.69484426;    dR('z23','z31')=140.2077529;
dR('z26','z24')=228.8658744;    dR('z8','z24')=692.8701976;     dR('z30','z26')=479.4196027;    dR('z21','z25')=134.3812771;    dR('z23','z4')=379.1840527;
dR('z26','z17')=306.6922208;    dR('z8','z17')=733.91665;       dR('z30','z11')=315.5285969;    dR('z21','z31')=192.0742183;    dR('z23','z7')=317.6527505;
dR('z26','z5')=89.2169416;      dR('z8','z5')=398.2628391;      dR('z30','z25')=360.004519;     dR('z21','z4')=440.368096;      dR('z23','z8')=275.9100461;
dR('z26','z11')=179.0792232;    dR('z8','z26')=469.0137774;     dR('z30','z31')=417.4139235;    dR('z21','z7')=362.9186176;     dR('z23','z15')=286.3895802;
dR('z26','z25')=119.9292157;    dR('z8','z11')=350.5900762;     dR('z30','z4')=333.2317126;     dR('z21','z8')=291.051073;      dR('z23','z14')=219.7195723;
dR('z26','z31')=62.00729304;    dR('z8','z25')=364.2820469;     dR('z30','z7')=254.4851142;     dR('z21','z15')=249.5251768;    dR('z23','z16')=144.7133555;
dR('z26','z4')=567.4778751;     dR('z8','z31')=411.79228;       dR('z30','z8')=171.1065357;     dR('z21','z14')=219.3174553;    dR('z23','z32')=119.2882385;
dR('z26','z7')=510.3869885;     dR('z8','z4')=167.8437182;      dR('z30','z15')=74.79399126;    dR('z21','z16')=167.8640593;    dR('z23','z18')=333.9137839;
dR('z26','z8')=469.0137774;     dR('z8','z7')=85.99012244;      dR('z30','z14')=139.1759152;    dR('z21','z32')=131.973952;     dR('z23','z30')=313.8935933;
dR('z26','z15')=468.1364882;    dR('z8','z15')=96.32158163;     dR('z30','z16')=187.4953747;    dR('z21','z18')=228.114213;     dR('z23','z13')=279.8915763;
dR('z26','z14')=409.00525;      dR('z8','z14')=71.84937379;     dR('z30','z32')=197.3514048;    dR('z21','z30')=238.5012865;    dR('z23','z9')=245.7029256;
dR('z26','z16')=334.6156238;    dR('z8','z16')=136.7503215;     dR('z30','z18')=69.45678273;    dR('z21','z13')=164.7505709;    dR('z23','z22')=274.584336;
dR('z26','z32')=303.1727816;    dR('z8','z32')=172.7996236;     dR('z30','z13')=99.81910629;    dR('z21','z9')=106.2796443;     dR('z23','z1')=227.5480899;
dR('z26','z18')=479.3660248;    dR('z8','z18')=238.1392616;     dR('z30','z9')=170.4195783;     dR('z21','z22')=187.674213;     dR('z23','z20')=151.8639611;
dR('z26','z30')=479.4196027;    dR('z8','z30')=171.1065357;     dR('z30','z22')=51.76510506;    dR('z21','z1')=139.0502422;     dR('z23','z21')=151.2651296;
dR('z26','z13')=416.7143568;    dR('z8','z13')=239.9825544;     dR('z30','z1')=99.64179126;     dR('z21','z20')=89.08933793;    dR('z23','z6')=86.98881045;
dR('z26','z9')=356.2273328;     dR('z8','z9')=283.7102941;      dR('z30','z20')=169.4190722;    dR('z21','z6')=70.69671831;     dR('z23','z29')=77.52574891;
dR('z26','z22')=432.0304655;    dR('z8','z22')=186.0807988;     dR('z30','z21')=238.5012865;    dR('z21','z29')=77.18827118;    dR('z23','z34')=60.50206436;
dR('z26','z1')=381.7102479;     dR('z8','z1')=192.3392476;      dR('z30','z6')=244.9795695;     dR('z21','z34')=111.9859472;    dR('z23','z27')=84.1442426;
dR('z26','z20')=310.4376243;    dR('z8','z20')=202.3074754;     dR('z30','z29')=282.2871155;    dR('z21','z27')=151.5383142;    dR('z23','z3')=31.44898945;
dR('z26','z21')=252.3876477;    dR('z8','z21')=291.051073;      dR('z30','z34')=316.8609325;    dR('z21','z3')=149.7470664;     dR('z23','z33')=178.2159248;
dR('z26','z6')=235.6397586;     dR('z8','z6')=252.4063188;      dR('z30','z27')=241.8186578;    dR('z21','z23')=151.2651296;    dR('z23','z10')=132.3554698;
dR('z26','z29')=197.3084798;    dR('z8','z29')=289.4931893;     dR('z30','z3')=288.3763186;     dR('z21','z33')=281.9459885;    dR('z23','z19')=39.27786909;
dR('z26','z34')=164.773593;     dR('z8','z34')=310.8118161;     dR('z30','z23')=313.8935933;    dR('z21','z10')=222.9142081;    dR('z23','z2')=218.9865366;
dR('z26','z27')=276.5643706;    dR('z8','z27')=192.4498942;     dR('z30','z33')=304.0728881;    dR('z21','z19')=170.472964;     dR('z33','z12')=441.5042043;
dR('z26','z3')=225.2008181;     dR('z8','z3')=244.4677386;      dR('z30','z10')=264.2676677;    dR('z21','z2')=172.022156;      dR('z33','z28')=344.553568;
dR('z26','z23')=193.8800092;    dR('z8','z23')=275.9100461;     dR('z30','z19')=351.0959477;    dR('z6','z12')=364.669201;      dR('z33','z24')=564.4708019;
dR('z26','z33')=358.9149366;    dR('z8','z33')=172.2098898;     dR('z30','z2')=96.92290824;     dR('z6','z28')=306.8130368;     dR('z33','z17')=584.7590915;
dR('z26','z10')=322.9458581;    dR('z8','z10')=162.9414617;     dR('z13','z12')=552.6030687;    dR('z6','z24')=464.4343509;     dR('z33','z5')=273.9774605;
dR('z26','z19')=157.4894204;    dR('z8','z19')=314.2892733;     dR('z13','z28')=502.872729;     dR('z6','z17')=532.5209528;     dR('z33','z26')=358.9149366;
dR('z26','z2')=393.4610917;     dR('z8','z2')=134.2509021;      dR('z13','z24')=639.7449985;    dR('z6','z5')=191.9943982;      dR('z33','z11')=305.6630074;
dR('z15','z12')=590.6491909;    dR('z13','z17')=721.7225941;    dR('z6','z26')=235.6397586;     dR('z33','z25')=284.9884994;
dR('z15','z28')=516.8860403;    dR('z13','z5')=387.259509;      dR('z6','z11')=99.922957;       dR('z33','z31')=313.7457299;
dR('z15','z24')=696.8158293;


    Parameter D(z,y) "Demand (kWh per year)";
D('z1','2020')=113854067.034299;        D('z1','2025')=398489234.620047;        D('z1','2030')=853905502.757243;        D('z1','2035')=1423175837.92874;        D('z1','2040')=1992446173.10023;        D('z1','2045')=2504789474.75458;        D('z1','2050')=2846351675.85748;
D('z2','2020')=147873137.249682;        D('z2','2025')=517555980.373887;        D('z2','2030')=1109048529.37262;        D('z2','2035')=1848414215.62103;        D('z2','2040')=2587779901.86944;        D('z2','2045')=3253209019.49301;        D('z2','2050')=3696828431.24205;
D('z3','2020')=65059905.5879409;        D('z3','2025')=227709669.557793;        D('z3','2030')=487949291.909557;        D('z3','2035')=813248819.849262;        D('z3','2040')=1138548347.78897;        D('z3','2045')=1431317922.9347;         D('z3','2050')=1626497639.69852;
D('z4','2020')=34899212.622017;         D('z4','2025')=122147244.177059;        D('z4','2030')=261744094.665127;        D('z4','2035')=436240157.775212;        D('z4','2040')=610736220.885297;        D('z4','2045')=767782677.684373;        D('z4','2050')=872480315.550424;
D('z5','2020')=30641608.1818307;        D('z5','2025')=107245628.636408;        D('z5','2030')=229812061.363731;        D('z5','2035')=383020102.272884;        D('z5','2040')=536228143.182038;        D('z5','2045')=674115380.000276;        D('z5','2050')=766040204.545769;
D('z6','2020')=135584924.319098;        D('z6','2025')=474547235.116844;        D('z6','2030')=1016886932.39324;        D('z6','2035')=1694811553.98873;        D('z6','2040')=2372736175.58422;        D('z6','2045')=2982868335.02016;        D('z6','2050')=3389623107.97746;
D('z7','2020')=73345405.2847257;        D('z7','2025')=256708918.49654;         D('z7','2030')=550090539.635443;        D('z7','2035')=916817566.059072;        D('z7','2040')=1283544592.4827;         D('z7','2045')=1613598916.26397;        D('z7','2050')=1833635132.11814;
D('z8','2020')=106728168.777657;        D('z8','2025')=373548590.721801;        D('z8','2030')=800461265.83243;         D('z8','2035')=1334102109.72072;        D('z8','2040')=1867742953.609;          D('z8','2045')=2348019713.10846;        D('z8','2050')=2668204219.44143;
D('z9','2020')=154455472.331257;        D('z9','2025')=540594153.159399;        D('z9','2030')=1158416042.48443;        D('z9','2035')=1930693404.14071;        D('z9','2040')=2702970765.79699;        D('z9','2045')=3398020391.28765;        D('z9','2050')=3861386808.28142;
D('z10','2020')=71739897.7823243;        D('z10','2025')=251089642.238135;        D('z10','2030')=538049233.367432;        D('z10','2035')=896748722.279054;        D('z10','2040')=1255448211.19068;        D('z10','2045')=1578277751.21113;        D('z10','2050')=1793497444.55811;
D('z11','2020')=36867709.7701412;        D('z11','2025')=129036984.195494;        D('z11','2030')=276507823.276059;        D('z11','2035')=460846372.126764;        D('z11','2040')=645184920.97747;         D('z11','2045')=811089614.943105;        D('z11','2050')=921692744.253529;
D('z12','2020')=132574137.105337;        D('z12','2025')=464009479.86868;         D('z12','2030')=994306028.290029;        D('z12','2035')=1657176713.81671;        D('z12','2040')=2320047399.3434;         D('z12','2045')=2916631016.31742;        D('z12','2050')=3314353427.63343;
D('z13','2020')=112566712.893123;        D('z13','2025')=393983495.125932;        D('z13','2030')=844250346.698425;        D('z13','2035')=1407083911.16404;        D('z13','2040')=1969917475.62966;        D('z13','2045')=2476467683.64871;        D('z13','2050')=2814167822.32808;
D('z14','2020')=128960823.931417;        D('z14','2025')=451362883.759959;        D('z14','2030')=967206179.485626;        D('z14','2035')=1612010299.14271;        D('z14','2040')=2256814418.79979;        D('z14','2045')=2837138126.49117;        D('z14','2050')=3224020598.28542;
D('z15','2020')=121966363.549876;        D('z15','2025')=426882272.424566;        D('z15','2030')=914747726.624071;        D('z15','2035')=1524579544.37345;        D('z15','2040')=2134411362.12283;        D('z15','2045')=2683259998.09727;        D('z15','2050')=3049159088.7469;
D('z16','2020')=83234569.8968778;        D('z16','2025')=291320994.639072;        D('z16','2030')=624259274.226584;        D('z16','2035')=1040432123.71097;        D('z16','2040')=1456604973.19536;        D('z16','2045')=1831160537.73131;        D('z16','2050')=2080864247.42195;
D('z17','2020')=22775604.1331485;        D('z17','2025')=79714614.4660199;        D('z17','2030')=170817030.998614;        D('z17','2035')=284695051.664357;        D('z17','2040')=398573072.330099;        D('z17','2045')=501063290.929268;        D('z17','2050')=569390103.328714;
D('z18','2020')=113410003.559075;        D('z18','2025')=396935012.456762;        D('z18','2030')=850575026.693061;        D('z18','2035')=1417625044.48844;        D('z18','2040')=1984675062.28381;        D('z18','2045')=2495020078.29965;        D('z18','2050')=2835250088.97687;
D('z19','2020')=92024938.4410131;        D('z19','2025')=322087284.543546;        D('z19','2030')=690187038.307598;        D('z19','2035')=1150311730.51266;        D('z19','2040')=1610436422.71773;        D('z19','2045')=2024548645.70229;        D('z19','2050')=2300623461.02533;
D('z20','2020')=113078337.892932;        D('z20','2025')=395774182.625263;        D('z20','2030')=848087534.196992;        D('z20','2035')=1413479223.66165;        D('z20','2040')=1978870913.12631;        D('z20','2045')=2487723433.64451;        D('z20','2050')=2826958447.32331;
D('z21','2020')=66803607.1179018;        D('z21','2025')=233812624.912656;        D('z21','2030')=501027053.384263;        D('z21','2035')=835045088.973772;        D('z21','2040')=1169063124.56328;        D('z21','2045')=1469679356.59384;        D('z21','2050')=1670090177.94754;
D('z22','2020')=547130423.56512;         D('z22','2025')=1914956482.47792;        D('z22','2030')=4103478176.7384;         D('z22','2035')=6839130294.564;          D('z22','2040')=9574782412.3896;         D('z22','2045')=12036869318.4326;        D('z22','2050')=13678260589.128;
D('z23','2020')=260151178.174126;        D('z23','2025')=910529123.60944;         D('z23','2030')=1951133836.30594;        D('z23','2035')=3251889727.17657;        D('z23','2040')=4552645618.0472;         D('z23','2045')=5723325919.83076;        D('z23','2050')=6503779454.35314;
D('z24','2020')=30036011.2432815;        D('z24','2025')=105126039.351485;        D('z24','2030')=225270084.324611;        D('z24','2035')=375450140.541018;        D('z24','2040')=525630196.757426;        D('z24','2045')=660792247.352192;        D('z24','2050')=750900281.082037;
D('z25','2020')=67663481.0671604;        D('z25','2025')=236822183.735061;        D('z25','2030')=507476108.003703;        D('z25','2035')=845793513.339505;        D('z25','2040')=1184110918.67531;        D('z25','2045')=1488596583.47753;        D('z25','2050')=1691587026.67901;
D('z26','2020')=89466199.2462906;        D('z26','2025')=313131697.362017;        D('z26','2030')=670996494.34718;         D('z26','2035')=1118327490.57863;        D('z26','2040')=1565658486.81009;        D('z26','2045')=1968256383.41839;        D('z26','2050')=2236654981.15727;
D('z27','2020')=100059846.301157;        D('z27','2025')=350209462.054049;        D('z27','2030')=750448847.258676;        D('z27','2035')=1250748078.76446;        D('z27','2040')=1751047310.27024;        D('z27','2045')=2201316618.62545;        D('z27','2050')=2501496157.52892;
D('z28','2020')=144498131.998842;        D('z28','2025')=505743461.995947;        D('z28','2030')=1083735989.99131;        D('z28','2035')=1806226649.98552;        D('z28','2040')=2528717309.97973;        D('z28','2045')=3178958903.97452;        D('z28','2050')=3612453299.97105;
D('z29','2020')=86166740.0638497;        D('z29','2025')=301583590.223474;        D('z29','2030')=646250550.478873;        D('z29','2035')=1077084250.79812;        D('z29','2040')=1507917951.11737;        D('z29','2045')=1895668281.40469;        D('z29','2050')=2154168501.59624;
D('z30','2020')=177734102.724722;        D('z30','2025')=622069359.536526;        D('z30','2030')=1333005770.43541;        D('z30','2035')=2221676284.05902;        D('z30','2040')=3110346797.68263;        D('z30','2045')=3910150259.94388;        D('z30','2050')=4443352568.11804;
D('z31','2020')=56751680.6510686;        D('z31','2025')=198630882.27874;         D('z31','2030')=425637604.883014;        D('z31','2035')=709396008.138357;        D('z31','2040')=993154411.3937;          D('z31','2045')=1248536974.32351;        D('z31','2050')=1418792016.27671;
D('z32','2020')=179127712.718199;        D('z32','2025')=626946994.513695;        D('z32','2030')=1343457845.38649;        D('z32','2035')=2239096408.97748;        D('z32','2040')=3134734972.56847;        D('z32','2045')=3940809679.80037;        D('z32','2050')=4478192817.95496;
D('z33','2020')=121034628.706287;        D('z33','2025')=423621200.472003;        D('z33','2030')=907759715.297149;        D('z33','2035')=1512932858.82858;        D('z33','2040')=2118106002.36001;        D('z33','2045')=2662761831.5383;         D('z33','2050')=3025865717.65716;
D('z34','2020')=142506295.414952;        D('z34','2025')=498772033.952333;        D('z34','2030')=1068797215.61214;        D('z34','2035')=1781328692.6869;         D('z34','2040')=2493860169.76166;        D('z34','2045')=3135138499.12895;        D('z34','2050')=3562657385.37381;

Parameters
    ProdConst(p,z) "Production constraint in zone";
*SMR	Alkaline_elec_renew	PEM_renew	SOEC_renew	Alkaline_elec	PEM	SOEC	Alkaline_elec_solar
ProdConst('SMR','z1')=0;	ProdConst('Alkaline_elec_renew','z1')=1;	ProdConst('PEM_renew','z1')=1;	ProdConst('SOEC_renew','z1')=1;	ProdConst('Alkaline_elec','z1')=1;	ProdConst('PEM','z1')=1;	ProdConst('SOEC','z1')=1;	ProdConst('Alkaline_elec_solar','z1')=1;
ProdConst('SMR','z2')=0;	ProdConst('Alkaline_elec_renew','z2')=1;	ProdConst('PEM_renew','z2')=1;	ProdConst('SOEC_renew','z2')=1;	ProdConst('Alkaline_elec','z2')=1;	ProdConst('PEM','z2')=1;	ProdConst('SOEC','z2')=1;	ProdConst('Alkaline_elec_solar','z2')=1;
ProdConst('SMR','z3')=0;	ProdConst('Alkaline_elec_renew','z3')=1;	ProdConst('PEM_renew','z3')=1;	ProdConst('SOEC_renew','z3')=1;	ProdConst('Alkaline_elec','z3')=1;	ProdConst('PEM','z3')=1;	ProdConst('SOEC','z3')=1;	ProdConst('Alkaline_elec_solar','z3')=1;
ProdConst('SMR','z4')=0;	ProdConst('Alkaline_elec_renew','z4')=1;	ProdConst('PEM_renew','z4')=1;	ProdConst('SOEC_renew','z4')=1;	ProdConst('Alkaline_elec','z4')=1;	ProdConst('PEM','z4')=1;	ProdConst('SOEC','z4')=1;	ProdConst('Alkaline_elec_solar','z4')=1;
ProdConst('SMR','z5')=0;	ProdConst('Alkaline_elec_renew','z5')=1;	ProdConst('PEM_renew','z5')=1;	ProdConst('SOEC_renew','z5')=1;	ProdConst('Alkaline_elec','z5')=1;	ProdConst('PEM','z5')=1;	ProdConst('SOEC','z5')=1;	ProdConst('Alkaline_elec_solar','z5')=1;
ProdConst('SMR','z6')=0;	ProdConst('Alkaline_elec_renew','z6')=1;	ProdConst('PEM_renew','z6')=1;	ProdConst('SOEC_renew','z6')=1;	ProdConst('Alkaline_elec','z6')=1;	ProdConst('PEM','z6')=1;	ProdConst('SOEC','z6')=1;	ProdConst('Alkaline_elec_solar','z6')=1;
ProdConst('SMR','z7')=0;	ProdConst('Alkaline_elec_renew','z7')=1;	ProdConst('PEM_renew','z7')=1;	ProdConst('SOEC_renew','z7')=1;	ProdConst('Alkaline_elec','z7')=1;	ProdConst('PEM','z7')=1;	ProdConst('SOEC','z7')=1;	ProdConst('Alkaline_elec_solar','z7')=1;
ProdConst('SMR','z8')=0;	ProdConst('Alkaline_elec_renew','z8')=1;	ProdConst('PEM_renew','z8')=1;	ProdConst('SOEC_renew','z8')=1;	ProdConst('Alkaline_elec','z8')=1;	ProdConst('PEM','z8')=1;	ProdConst('SOEC','z8')=1;	ProdConst('Alkaline_elec_solar','z8')=1;
ProdConst('SMR','z9')=0;	ProdConst('Alkaline_elec_renew','z9')=1;	ProdConst('PEM_renew','z9')=1;	ProdConst('SOEC_renew','z9')=1;	ProdConst('Alkaline_elec','z9')=1;	ProdConst('PEM','z9')=1;	ProdConst('SOEC','z9')=1;	ProdConst('Alkaline_elec_solar','z9')=1;
ProdConst('SMR','z10')=1;	ProdConst('Alkaline_elec_renew','z10')=1;	ProdConst('PEM_renew','z10')=1;	ProdConst('SOEC_renew','z10')=1;	ProdConst('Alkaline_elec','z10')=1;	ProdConst('PEM','z10')=1;	ProdConst('SOEC','z10')=1;	ProdConst('Alkaline_elec_solar','z10')=1;
ProdConst('SMR','z11')=1;	ProdConst('Alkaline_elec_renew','z11')=1;	ProdConst('PEM_renew','z11')=1;	ProdConst('SOEC_renew','z11')=1;	ProdConst('Alkaline_elec','z11')=1;	ProdConst('PEM','z11')=1;	ProdConst('SOEC','z11')=1;	ProdConst('Alkaline_elec_solar','z11')=1;
ProdConst('SMR','z12')=0;	ProdConst('Alkaline_elec_renew','z12')=1;	ProdConst('PEM_renew','z12')=1;	ProdConst('SOEC_renew','z12')=1;	ProdConst('Alkaline_elec','z12')=1;	ProdConst('PEM','z12')=1;	ProdConst('SOEC','z12')=1;	ProdConst('Alkaline_elec_solar','z12')=1;
ProdConst('SMR','z13')=0;	ProdConst('Alkaline_elec_renew','z13')=1;	ProdConst('PEM_renew','z13')=1;	ProdConst('SOEC_renew','z13')=1;	ProdConst('Alkaline_elec','z13')=1;	ProdConst('PEM','z13')=1;	ProdConst('SOEC','z13')=1;	ProdConst('Alkaline_elec_solar','z13')=1;
ProdConst('SMR','z14')=0;	ProdConst('Alkaline_elec_renew','z14')=1;	ProdConst('PEM_renew','z14')=1;	ProdConst('SOEC_renew','z14')=1;	ProdConst('Alkaline_elec','z14')=1;	ProdConst('PEM','z14')=1;	ProdConst('SOEC','z14')=1;	ProdConst('Alkaline_elec_solar','z14')=1;
ProdConst('SMR','z15')=0;	ProdConst('Alkaline_elec_renew','z15')=1;	ProdConst('PEM_renew','z15')=1;	ProdConst('SOEC_renew','z15')=1;	ProdConst('Alkaline_elec','z15')=1;	ProdConst('PEM','z15')=1;	ProdConst('SOEC','z15')=1;	ProdConst('Alkaline_elec_solar','z15')=1;
ProdConst('SMR','z16')=0;	ProdConst('Alkaline_elec_renew','z16')=1;	ProdConst('PEM_renew','z16')=1;	ProdConst('SOEC_renew','z16')=1;	ProdConst('Alkaline_elec','z16')=1;	ProdConst('PEM','z16')=1;	ProdConst('SOEC','z16')=1;	ProdConst('Alkaline_elec_solar','z16')=1;
ProdConst('SMR','z17')=0;	ProdConst('Alkaline_elec_renew','z17')=1;	ProdConst('PEM_renew','z17')=1;	ProdConst('SOEC_renew','z17')=1;	ProdConst('Alkaline_elec','z17')=1;	ProdConst('PEM','z17')=1;	ProdConst('SOEC','z17')=1;	ProdConst('Alkaline_elec_solar','z17')=1;
ProdConst('SMR','z18')=1;	ProdConst('Alkaline_elec_renew','z18')=1;	ProdConst('PEM_renew','z18')=1;	ProdConst('SOEC_renew','z18')=1;	ProdConst('Alkaline_elec','z18')=1;	ProdConst('PEM','z18')=1;	ProdConst('SOEC','z18')=1;	ProdConst('Alkaline_elec_solar','z18')=1;
ProdConst('SMR','z19')=0;	ProdConst('Alkaline_elec_renew','z19')=1;	ProdConst('PEM_renew','z19')=1;	ProdConst('SOEC_renew','z19')=1;	ProdConst('Alkaline_elec','z19')=1;	ProdConst('PEM','z19')=1;	ProdConst('SOEC','z19')=1;	ProdConst('Alkaline_elec_solar','z19')=1;
ProdConst('SMR','z20')=0;	ProdConst('Alkaline_elec_renew','z20')=1;	ProdConst('PEM_renew','z20')=1;	ProdConst('SOEC_renew','z20')=1;	ProdConst('Alkaline_elec','z20')=1;	ProdConst('PEM','z20')=1;	ProdConst('SOEC','z20')=1;	ProdConst('Alkaline_elec_solar','z20')=1;
ProdConst('SMR','z21')=0;	ProdConst('Alkaline_elec_renew','z21')=1;	ProdConst('PEM_renew','z21')=1;	ProdConst('SOEC_renew','z21')=1;	ProdConst('Alkaline_elec','z21')=1;	ProdConst('PEM','z21')=1;	ProdConst('SOEC','z21')=1;	ProdConst('Alkaline_elec_solar','z21')=1;
ProdConst('SMR','z22')=0;	ProdConst('Alkaline_elec_renew','z22')=1;	ProdConst('PEM_renew','z22')=1;	ProdConst('SOEC_renew','z22')=1;	ProdConst('Alkaline_elec','z22')=1;	ProdConst('PEM','z22')=1;	ProdConst('SOEC','z22')=1;	ProdConst('Alkaline_elec_solar','z22')=1;
ProdConst('SMR','z23')=1;	ProdConst('Alkaline_elec_renew','z23')=1;	ProdConst('PEM_renew','z23')=1;	ProdConst('SOEC_renew','z23')=1;	ProdConst('Alkaline_elec','z23')=1;	ProdConst('PEM','z23')=1;	ProdConst('SOEC','z23')=1;	ProdConst('Alkaline_elec_solar','z23')=1;
ProdConst('SMR','z24')=1;	ProdConst('Alkaline_elec_renew','z24')=1;	ProdConst('PEM_renew','z24')=1;	ProdConst('SOEC_renew','z24')=1;	ProdConst('Alkaline_elec','z24')=1;	ProdConst('PEM','z24')=1;	ProdConst('SOEC','z24')=1;	ProdConst('Alkaline_elec_solar','z24')=1;
ProdConst('SMR','z25')=0;	ProdConst('Alkaline_elec_renew','z25')=1;	ProdConst('PEM_renew','z25')=1;	ProdConst('SOEC_renew','z25')=1;	ProdConst('Alkaline_elec','z25')=1;	ProdConst('PEM','z25')=1;	ProdConst('SOEC','z25')=1;	ProdConst('Alkaline_elec_solar','z25')=1;
ProdConst('SMR','z26')=1;	ProdConst('Alkaline_elec_renew','z26')=1;	ProdConst('PEM_renew','z26')=1;	ProdConst('SOEC_renew','z26')=1;	ProdConst('Alkaline_elec','z26')=1;	ProdConst('PEM','z26')=1;	ProdConst('SOEC','z26')=1;	ProdConst('Alkaline_elec_solar','z26')=1;
ProdConst('SMR','z27')=0;	ProdConst('Alkaline_elec_renew','z27')=1;	ProdConst('PEM_renew','z27')=1;	ProdConst('SOEC_renew','z27')=1;	ProdConst('Alkaline_elec','z27')=1;	ProdConst('PEM','z27')=1;	ProdConst('SOEC','z27')=1;	ProdConst('Alkaline_elec_solar','z27')=1;
ProdConst('SMR','z28')=0;	ProdConst('Alkaline_elec_renew','z28')=1;	ProdConst('PEM_renew','z28')=1;	ProdConst('SOEC_renew','z28')=1;	ProdConst('Alkaline_elec','z28')=1;	ProdConst('PEM','z28')=1;	ProdConst('SOEC','z28')=1;	ProdConst('Alkaline_elec_solar','z28')=1;
ProdConst('SMR','z29')=0;	ProdConst('Alkaline_elec_renew','z29')=1;	ProdConst('PEM_renew','z29')=1;	ProdConst('SOEC_renew','z29')=1;	ProdConst('Alkaline_elec','z29')=1;	ProdConst('PEM','z29')=1;	ProdConst('SOEC','z29')=1;	ProdConst('Alkaline_elec_solar','z29')=1;
ProdConst('SMR','z30')=0;	ProdConst('Alkaline_elec_renew','z30')=1;	ProdConst('PEM_renew','z30')=1;	ProdConst('SOEC_renew','z30')=1;	ProdConst('Alkaline_elec','z30')=1;	ProdConst('PEM','z30')=1;	ProdConst('SOEC','z30')=1;	ProdConst('Alkaline_elec_solar','z30')=1;
ProdConst('SMR','z31')=0;	ProdConst('Alkaline_elec_renew','z31')=1;	ProdConst('PEM_renew','z31')=1;	ProdConst('SOEC_renew','z31')=1;	ProdConst('Alkaline_elec','z31')=1;	ProdConst('PEM','z31')=1;	ProdConst('SOEC','z31')=1;	ProdConst('Alkaline_elec_solar','z31')=1;
ProdConst('SMR','z32')=0;	ProdConst('Alkaline_elec_renew','z32')=1;	ProdConst('PEM_renew','z32')=1;	ProdConst('SOEC_renew','z32')=1;	ProdConst('Alkaline_elec','z32')=1;	ProdConst('PEM','z32')=1;	ProdConst('SOEC','z32')=1;	ProdConst('Alkaline_elec_solar','z32')=1;
ProdConst('SMR','z33')=0;	ProdConst('Alkaline_elec_renew','z33')=1;	ProdConst('PEM_renew','z33')=1;	ProdConst('SOEC_renew','z33')=1;	ProdConst('Alkaline_elec','z33')=1;	ProdConst('PEM','z33')=1;	ProdConst('SOEC','z33')=1;	ProdConst('Alkaline_elec_solar','z33')=1;
ProdConst('SMR','z34')=0;	ProdConst('Alkaline_elec_renew','z34')=1;	ProdConst('PEM_renew','z34')=1;	ProdConst('SOEC_renew','z34')=1;	ProdConst('Alkaline_elec','z34')=1;	ProdConst('PEM','z34')=1;	ProdConst('SOEC','z34')=1;	ProdConst('Alkaline_elec_solar','z34')=1;

Parameter
    Area(z) "Area available for onshore wind (km^2)";
Area('z1')=74.4905;
Area('z2')=126.0116;
Area('z3')=120.292;
Area('z4')=111.0525;
Area('z5')=125.0835;
Area('z6')=159.1164;
Area('z7')=133.263;
Area('z8')=194.953;
Area('z9')=250.6405;
Area('z10')=242.9;
Area('z11')=35.571;
Area('z12')=328.197;
Area('z13')=69.1766;
Area('z14')=168.814;
Area('z15')=62.033;
Area('z16')=154.0392;
Area('z17')=110.798;
Area('z18')=49.7985;
Area('z19')=60.146;
Area('z20')=155.4469;
Area('z21')=119.696;
Area('z22')=30.67;
Area('z23')=30.073;
Area('z24')=140.19;
Area('z25')=216.33835;
Area('z26')=64.9375;
Area('z27')=234.384;
Area('z28')=210.205;
Area('z29')=35.571;
Area('z30')=85.779;
Area('z31')=32.46875;
Area('z32')=28.137;
Area('z33')=212.827;
Area('z34')=35.571;



Positive Variables

*---------------- General Energy Balances -----------------------------------------------
    PR(p,z,g,y)         "Production rate (kW)"
    Q(l,z,zd,g,y)       "Hydrogen transported out of zone (kW)"
    QLOC(l,z,g,y)       "Hydrogen transported in distribution network inside zone (kW)"
    QCLEANED(z,y)       "Hydrogen cleaned from dirty to clean grade in centroid of zone (kW)"
    QDIRTIED(z,y)       "Hydrogen moving from clean grade to dirty grade in centroid of zone (kW)"
    QBLEND_Clean(z,y)   "Hydrogen being blended into the gas distribution network from clean grade (kW)"
    QBLEND_Dirty(z,y)   "Hydrogen being blended into the gas distribution network from dirty grade (kW)"
    ;

Parameters
    M   "Big number constant"  /10000000000000000000000000/
    alpha "number of operating hours in a year (hrs)" /8760/
    R_w     "Wind turbine radius (m)" /35/
    solar_area "Area of soalr pv (m2/kWp)" /5/
    ;


Equations

*---------------- General Energy Balances -----------------------------------------------


    eq1     "General energy balance"
    eqZERO_FLOWa "No flow between a zone and itself"

    eqNEIGHa "Neighbouring flow constraint"
    eqProdConst "Production Constraint in zone"

    eq2     "Demand"
    eq3     "Clean hydrogen energy balance"
    eq4     "Dirty hydrogen energy balance"
    eqBlend "Blended hydrogen energy balance"


    ;



*----------------------------------- General Energy Balances --------------------------------------------------------------
eq1(z,y)..                                      sum((p,g), PR(p,z,g,y)) + sum((l,zd,g), Q(l,zd,z,g,y)) - sum((l,zd,g),  Q(l,z,zd,g,y)) - sum((l,g), QLOC(l,z,g,y) ) =e= 0  ;

eqZERO_FLOWa(l,z,zd,g,y)$(ord(z) eq ord(zd))..   Q(l,z,zd,g,y) =e= 0 ;

eqNEIGHa(l,z,zd,g,y)..                           Q(l,z,zd,g,y) =l= Neigh(z,zd) * M   ;

eqProdConst(p,z,g,y)..                              PR(p,z,g,y) =l= ProdConst(p,z) * M ;

eq2(z,y)..                                      (D(z,y)/alpha) =e= sum((l,g), QLOC(l,z,g,y)) ;

eq3(z,y)..                                      sum((pc(p)), PR(p,z,'clean',y)) + sum((l,zd), Q(l,zd,z,'clean',y)) - sum((l,zd), Q(l,z,zd,'clean',y)) - sum((l), QLOC(l,z,'clean',y) ) + QCLEANED(z,y) - QDIRTIED(z,y) - QBLEND_Clean(z,y) =e= 0  ;

eq4(z,y)..                                      sum((pd(p)), PR(p,z,'dirty',y)) + sum((l,zd), Q(l,zd,z,'dirty',y)) - sum((l,zd), Q(l,z,zd,'dirty',y)) - sum((l), QLOC(l,z,'dirty',y) ) - QCLEANED(z,y) + QDIRTIED(z,y) - QBLEND_Dirty(z,y) =e= 0  ;

eqBlend(z,y)..                                  QBLEND_Clean(z,y) + QBLEND_Dirty(z,y) - sum((l), QLOC(l,z,'blend',y)) =e= 0 ;



*--------------------------------------------------------------------------------------------------------------------------

***************************************************************************************************************************
*----------------------------------- Production Facility Constraints ------------------------------------------------------
***************************************************************************************************************************

Positive Variables
*---------------- Production Facility Constraints ----------------------------------------
    IPRCap(p,z,g,y)     "Installed capacity of production facility"
    VPRCap(p,z,g,y,y)   "Vintage capacity of production facilitiy"
    NPRCap(p,z,g,y)      "Newly installed capacity of production facilities"
    DPRCap(p,z,g,y,y)   "Decomissioned production capacity"

    PCC     "Production capital costs"
    PSV     "Production salvage value"
    POC     "Production operating costs"
    ;

Parameters

    r           "Discount rate" / 0.05 /
    y0          "First Year"    / 2020 /
    yf          "Final year"    / 2051 /
    yfinal      "Final year set length in y"
    ;

* Production Lifetime
Parameters
    Lprod(p,y)    "Lifetime of production technology"  ;
    Lprod('SMR','2020') = 25;
    Lprod('SMR','2025') = 25;
    Lprod('SMR','2030') = 25;
    Lprod('SMR','2035') = 25;
    Lprod('SMR','2040') = 25;
    Lprod('SMR','2045') = 25;
    Lprod('SMR','2050') = 25;
    Lprod('Alkaline_elec','2020') = 5;
    Lprod('Alkaline_elec','2025') = 5;
    Lprod('Alkaline_elec','2030') = 10;
    Lprod('Alkaline_elec','2035') = 10;
    Lprod('Alkaline_elec','2040') = 10;
    Lprod('Alkaline_elec','2045') = 10;
    Lprod('Alkaline_elec','2050') = 15;
    Lprod('PEM','2020') = 5;
    Lprod('PEM','2025') = 5;
    Lprod('PEM','2030') = 10;
    Lprod('PEM','2035') = 10;
    Lprod('PEM','2040') = 10;
    Lprod('PEM','2045') = 10;
    Lprod('PEM','2050') = 15;
    Lprod('SOEC','2020') = 5;
    Lprod('SOEC','2025') = 5;
    Lprod('SOEC','2030') = 5;
    Lprod('SOEC','2035') = 5;
    Lprod('SOEC','2040') = 5;
    Lprod('SOEC','2045') = 10;
    Lprod('SOEC','2050') = 10;
    Lprod('Alkaline_elec_renew','2020') = 5;
    Lprod('Alkaline_elec_renew','2025') = 5;
    Lprod('Alkaline_elec_renew','2030') = 10;
    Lprod('Alkaline_elec_renew','2035') = 10;
    Lprod('Alkaline_elec_renew','2040') = 10;
    Lprod('Alkaline_elec_renew','2045') = 10;
    Lprod('Alkaline_elec_renew','2050') = 15;
    Lprod('PEM_renew','2020') = 5;
    Lprod('PEM_renew','2025') = 5;
    Lprod('PEM_renew','2030') = 10;
    Lprod('PEM_renew','2035') = 10;
    Lprod('PEM_renew','2040') = 10;
    Lprod('PEM_renew','2045') = 10;
    Lprod('PEM_renew','2050') = 15;
    Lprod('SOEC_renew','2020') = 5;
    Lprod('SOEC_renew','2025') = 5;
    Lprod('SOEC_renew','2030') = 5;
    Lprod('SOEC_renew','2035') = 5;
    Lprod('SOEC_renew','2040') = 5;
    Lprod('SOEC_renew','2045') = 10;
    Lprod('SOEC_renew','2050') = 10;
    Lprod('Alkaline_Elec_solar','2020')=5;
    Lprod('Alkaline_Elec_solar','2025')=5;
    Lprod('Alkaline_Elec_solar','2030')=10;
    Lprod('Alkaline_Elec_solar','2035')=10;
    Lprod('Alkaline_Elec_solar','2040')=10;
    Lprod('Alkaline_Elec_solar','2045')=10;
    Lprod('Alkaline_Elec_solar','2050')=15;
    Lprod('PEM_solar','2020')=5;
    Lprod('PEM_solar','2025')=5;
    Lprod('PEM_solar','2030')=10;
    Lprod('PEM_solar','2035')=10;
    Lprod('PEM_solar','2040')=10;
    Lprod('PEM_solar','2045')=10;
    Lprod('PEM_solar','2050')=15;
    Lprod('SOEC_solar','2020')=5;
    Lprod('SOEC_solar','2025')=5;
    Lprod('SOEC_solar','2030')=5;
    Lprod('SOEC_solar','2035')=5;
    Lprod('SOEC_solar','2040')=5;
    Lprod('SOEC_solar','2045')=10;
    Lprod('SOEC_solar','2050')=10;



Parameter
    CCostP(p,y) "Capital cost of production facility (/kW)"    ;
CCostP('SMR','2020')=732.015773809524;
CCostP('SMR','2025')=687.592014515894;
CCostP('SMR','2030')=648.671711807448;
CCostP('SMR','2035')=611.954445101366;
CCostP('SMR','2040')=577.315514246571;
CCostP('SMR','2045')=544.637277591105;
CCostP('SMR','2050')=513.808752444438;

CCostP('Alkaline_elec','2020')=949.243243243243;
CCostP('Alkaline_elec','2025')=822.057057057057;
CCostP('Alkaline_elec','2030')=741.728123123123;
CCostP('Alkaline_elec','2035')=720.540765765766;
CCostP('Alkaline_elec','2040')=699.601576576577;
CCostP('Alkaline_elec','2045')=689.225045045045;
CCostP('Alkaline_elec','2050')=677.499099099099;

CCostP('PEM','2020')=1279.61711711712;
CCostP('PEM','2025')=806.546546546547;
CCostP('PEM','2030')=620.42042042042;
CCostP('PEM','2035')=573.501126126126;
CCostP('PEM','2040')=526.581831831832;
CCostP('PEM','2045')=516.918783783784;
CCostP('PEM','2050')=506.263063063063;

CCostP('SOEC','2020')=1984.1045045045;
CCostP('SOEC','2025')=1442.29135135135;
CCostP('SOEC','2030')=1141.57357357357;
CCostP('SOEC','2035')=1007.87297297297;
CCostP('SOEC','2040')=880.996996996997;
CCostP('SOEC','2045')=821.281531531531;
CCostP('SOEC','2050')=760.015015015015;

CCostP('Alkaline_elec_renew','2020')=3078.15029452529;
CCostP('Alkaline_elec_renew','2025')=2469.36475104844;
CCostP('Alkaline_elec_renew','2030')=2016.38341493074;
CCostP('Alkaline_elec_renew','2035')=1706.84473245;
CCostP('Alkaline_elec_renew','2040')=1462.78478457747;
CCostP('Alkaline_elec_renew','2045')=1279.76166321624;
CCostP('Alkaline_elec_renew','2050')=1134.44507713568;


CCostP('PEM_renew','2020')=3408.52416839917;
CCostP('PEM_renew','2025')=2453.85424053793;
CCostP('PEM_renew','2030')=1895.07571222804;
CCostP('PEM_renew','2035')=1559.80509281036;
CCostP('PEM_renew','2040')=1289.76503983273;
CCostP('PEM_renew','2045')=1107.45540195497;
CCostP('PEM_renew','2050')=963.209041099647;

CCostP('SOEC_renew','2020')=4113.01155578656;
CCostP('SOEC_renew','2025')=3089.59904534274;
CCostP('SOEC_renew','2030')=2416.22886538119;
CCostP('SOEC_renew','2035')=1994.17693965721;
CCostP('SOEC_renew','2040')=1644.18020499789;
CCostP('SOEC_renew','2045')=1411.81814970272;
CCostP('SOEC_renew','2050')=1216.9609930516;


CCostP('Alkaline_elec_solar','2020')=2359.95333333333;
CCostP('Alkaline_elec_solar','2025')=1726.65873114439;
CCostP('Alkaline_elec_solar','2030')=1407.66232873592;
CCostP('Alkaline_elec_solar','2035')=1189.43288132419;
CCostP('Alkaline_elec_solar','2040')=1011.21353466415;
CCostP('Alkaline_elec_solar','2045')=830.68346570128;
CCostP('Alkaline_elec_solar','2050')=688.835249272677;

CCostP('PEM_solar','2020')=3064.33333333333;
CCostP('PEM_solar','2025')=2362.10873114439;
CCostP('PEM_solar','2030')=1929.24232873592;
CCostP('PEM_solar','2035')=1623.93288132419;
CCostP('PEM_solar','2040')=1365.63353466415;
CCostP('PEM_solar','2045')=1134.76346570128;
CCostP('PEM_solar','2050')=942.575249272677;

CCostP('SOEC_solar','2020')=4158.48333333333;
CCostP('SOEC_solar','2025')=3389.46873114439;
CCostP('SOEC_solar','2030')=2803.62232873592;
CCostP('SOEC_solar','2035')=2322.77288132419;
CCostP('SOEC_solar','2040')=1947.41353466415;
CCostP('SOEC_solar','2045')=1593.52346570128;
CCostP('SOEC_solar','2050')=1317.02524927268;



*Production Operating Costs
Parameters
    OCostP(p,y)   "Operating cost of production facility (p/kWh)" ;
OCostP('SMR','2020')=0.0320780902992611;
OCostP('SMR','2025')=0.0391213076647004;
OCostP('SMR','2030')=0.0429980166386872;
OCostP('SMR','2035')=0.0429980166386872;
OCostP('SMR','2040')=0.0467233118693143;
OCostP('SMR','2045')=0.0503675251537411;
OCostP('SMR','2050')=0.054011738438168;

OCostP('Alkaline_elec','2020')=0.0802442127363646;
OCostP('Alkaline_elec','2025')=0.0855693336493406;
OCostP('Alkaline_elec','2030')=0.0856701119836265;
OCostP('Alkaline_elec','2035')=0.0823730408580528;
OCostP('Alkaline_elec','2040')=0.0934258207602923;
OCostP('Alkaline_elec','2045')=0.0988581841804368;
OCostP('Alkaline_elec','2050')=0.104025648414528;

OCostP('PEM','2020')=0.0865378764803933;
OCostP('PEM','2025')=0.0889921069953142;
OCostP('PEM','2030')=0.086886523309966;
OCostP('PEM','2035')=0.0830468489632311;
OCostP('PEM','2040')=0.0934258207602923;
OCostP('PEM','2045')=0.0988581841804368;
OCostP('PEM','2050')=0.104025648414528;

OCostP('SOEC','2020')=0.0613632215042789;
OCostP('SOEC','2025')=0.0646904162389014;
OCostP('SOEC','2030')=0.063948481156135;
OCostP('SOEC','2035')=0.0608111814923457;
OCostP('SOEC','2040')=0.0683838481853686;
OCostP('SOEC','2045')=0.072250391336841;
OCostP('SOEC','2050')=0.0758520353022598;

OCostP('Alkaline_elec_renew','2020')=0.0147;
OCostP('Alkaline_elec_renew','2025')=0.0147;
OCostP('Alkaline_elec_renew','2030')=0.0147;
OCostP('Alkaline_elec_renew','2035')=0.0147;
OCostP('Alkaline_elec_renew','2040')=0.0147;
OCostP('Alkaline_elec_renew','2045')=0.0147;
OCostP('Alkaline_elec_renew','2050')=0.0147;

OCostP('PEM_renew','2020')=0.0147;
OCostP('PEM_renew','2025')=0.0147;
OCostP('PEM_renew','2030')=0.0147;
OCostP('PEM_renew','2035')=0.0147;
OCostP('PEM_renew','2040')=0.0147;
OCostP('PEM_renew','2045')=0.0147;
OCostP('PEM_renew','2050')=0.0147;

OCostP('SOEC_renew','2020')=0.0147;
OCostP('SOEC_renew','2025')=0.0147;
OCostP('SOEC_renew','2030')=0.0147;
OCostP('SOEC_renew','2035')=0.0147;
OCostP('SOEC_renew','2040')=0.0147;
OCostP('SOEC_renew','2045')=0.0147;
OCostP('SOEC_renew','2050')=0.0147;


OCostP('Alkaline_elec_solar','2020')=0;
OCostP('Alkaline_elec_solar','2025')=0;
OCostP('Alkaline_elec_solar','2030')=0;
OCostP('Alkaline_elec_solar','2035')=0;
OCostP('Alkaline_elec_solar','2040')=0;
OCostP('Alkaline_elec_solar','2045')=0;
OCostP('Alkaline_elec_solar','2050')=0;

OCostP('PEM_solar','2020')=0;
OCostP('PEM_solar','2025')=0;
OCostP('PEM_solar','2030')=0;
OCostP('PEM_solar','2035')=0;
OCostP('PEM_solar','2040')=0;
OCostP('PEM_solar','2045')=0;
OCostP('PEM_solar','2050')=0;

OCostP('SOEC_solar','2020')=0;
OCostP('SOEC_solar','2025')=0;
OCostP('SOEC_solar','2030')=0;
OCostP('SOEC_solar','2035')=0;
OCostP('SOEC_solar','2040')=0;
OCostP('SOEC_solar','2045')=0;
OCostP('SOEC_solar','2050')=0;




*Capacity Factor of Production Technology
Parameters
    CapFactor(p,z) "Capacity Factor of production technology" ;
CapFactor('Alkaline_elec_renew','z1')=0.344;    CapFactor('PEM_renew','z1')=0.344;      CapFactor('SOEC_renew','z1')=0.344;     CapFactor('SMR','z1')=1;        CapFactor('Alkaline_elec','z1')=1;      CapFactor('PEM','z1')=1;        CapFactor('SOEC','z1')=1;
CapFactor('Alkaline_elec_renew','z2')=0.346;    CapFactor('PEM_renew','z2')=0.346;      CapFactor('SOEC_renew','z2')=0.346;     CapFactor('SMR','z2')=1;        CapFactor('Alkaline_elec','z2')=1;      CapFactor('PEM','z2')=1;        CapFactor('SOEC','z2')=1;
CapFactor('Alkaline_elec_renew','z3')=0.343;    CapFactor('PEM_renew','z3')=0.343;      CapFactor('SOEC_renew','z3')=0.343;     CapFactor('SMR','z3')=1;        CapFactor('Alkaline_elec','z3')=1;      CapFactor('PEM','z3')=1;        CapFactor('SOEC','z3')=1;
CapFactor('Alkaline_elec_renew','z4')=0.508;    CapFactor('PEM_renew','z4')=0.508;      CapFactor('SOEC_renew','z4')=0.508;     CapFactor('SMR','z4')=1;        CapFactor('Alkaline_elec','z4')=1;      CapFactor('PEM','z4')=1;        CapFactor('SOEC','z4')=1;
CapFactor('Alkaline_elec_renew','z5')=0.385;    CapFactor('PEM_renew','z5')=0.385;      CapFactor('SOEC_renew','z5')=0.385;     CapFactor('SMR','z5')=1;        CapFactor('Alkaline_elec','z5')=1;      CapFactor('PEM','z5')=1;        CapFactor('SOEC','z5')=1;
CapFactor('Alkaline_elec_renew','z6')=0.345;    CapFactor('PEM_renew','z6')=0.345;      CapFactor('SOEC_renew','z6')=0.345;     CapFactor('SMR','z6')=1;        CapFactor('Alkaline_elec','z6')=1;      CapFactor('PEM','z6')=1;        CapFactor('SOEC','z6')=1;
CapFactor('Alkaline_elec_renew','z7')=0.427;    CapFactor('PEM_renew','z7')=0.427;      CapFactor('SOEC_renew','z7')=0.427;     CapFactor('SMR','z7')=1;        CapFactor('Alkaline_elec','z7')=1;      CapFactor('PEM','z7')=1;        CapFactor('SOEC','z7')=1;
CapFactor('Alkaline_elec_renew','z8')=0.381;    CapFactor('PEM_renew','z8')=0.381;      CapFactor('SOEC_renew','z8')=0.381;     CapFactor('SMR','z8')=1;        CapFactor('Alkaline_elec','z8')=1;      CapFactor('PEM','z8')=1;        CapFactor('SOEC','z8')=1;
CapFactor('Alkaline_elec_renew','z9')=0.384;    CapFactor('PEM_renew','z9')=0.384;      CapFactor('SOEC_renew','z9')=0.384;     CapFactor('SMR','z9')=1;        CapFactor('Alkaline_elec','z9')=1;      CapFactor('PEM','z9')=1;        CapFactor('SOEC','z9')=1;
CapFactor('Alkaline_elec_renew','z10')=0.35;    CapFactor('PEM_renew','z10')=0.35;      CapFactor('SOEC_renew','z10')=0.35;     CapFactor('SMR','z10')=1;       CapFactor('Alkaline_elec','z10')=1;     CapFactor('PEM','z10')=1;       CapFactor('SOEC','z10')=1;
CapFactor('Alkaline_elec_renew','z11')=0.392;   CapFactor('PEM_renew','z11')=0.392;     CapFactor('SOEC_renew','z11')=0.392;    CapFactor('SMR','z11')=1;       CapFactor('Alkaline_elec','z11')=1;     CapFactor('PEM','z11')=1;       CapFactor('SOEC','z11')=1;
CapFactor('Alkaline_elec_renew','z12')=0.462;   CapFactor('PEM_renew','z12')=0.462;     CapFactor('SOEC_renew','z12')=0.462;    CapFactor('SMR','z12')=1;       CapFactor('Alkaline_elec','z12')=1;     CapFactor('PEM','z12')=1;       CapFactor('SOEC','z12')=1;
CapFactor('Alkaline_elec_renew','z13')=0.379;   CapFactor('PEM_renew','z13')=0.379;     CapFactor('SOEC_renew','z13')=0.379;    CapFactor('SMR','z13')=1;       CapFactor('Alkaline_elec','z13')=1;     CapFactor('PEM','z13')=1;       CapFactor('SOEC','z13')=1;
CapFactor('Alkaline_elec_renew','z14')=0.344;   CapFactor('PEM_renew','z14')=0.344;     CapFactor('SOEC_renew','z14')=0.344;    CapFactor('SMR','z14')=1;       CapFactor('Alkaline_elec','z14')=1;     CapFactor('PEM','z14')=1;       CapFactor('SOEC','z14')=1;
CapFactor('Alkaline_elec_renew','z15')=0.383;   CapFactor('PEM_renew','z15')=0.383;     CapFactor('SOEC_renew','z15')=0.383;    CapFactor('SMR','z15')=1;       CapFactor('Alkaline_elec','z15')=1;     CapFactor('PEM','z15')=1;       CapFactor('SOEC','z15')=1;
CapFactor('Alkaline_elec_renew','z16')=0.331;   CapFactor('PEM_renew','z16')=0.331;     CapFactor('SOEC_renew','z16')=0.331;    CapFactor('SMR','z16')=1;       CapFactor('Alkaline_elec','z16')=1;     CapFactor('PEM','z16')=1;       CapFactor('SOEC','z16')=1;
CapFactor('Alkaline_elec_renew','z17')=0.371;   CapFactor('PEM_renew','z17')=0.371;     CapFactor('SOEC_renew','z17')=0.371;    CapFactor('SMR','z17')=1;       CapFactor('Alkaline_elec','z17')=1;     CapFactor('PEM','z17')=1;       CapFactor('SOEC','z17')=1;
CapFactor('Alkaline_elec_renew','z18')=0.422;   CapFactor('PEM_renew','z18')=0.422;     CapFactor('SOEC_renew','z18')=0.422;    CapFactor('SMR','z18')=1;       CapFactor('Alkaline_elec','z18')=1;     CapFactor('PEM','z18')=1;       CapFactor('SOEC','z18')=1;
CapFactor('Alkaline_elec_renew','z19')=0.376;   CapFactor('PEM_renew','z19')=0.376;     CapFactor('SOEC_renew','z19')=0.376;    CapFactor('SMR','z19')=1;       CapFactor('Alkaline_elec','z19')=1;     CapFactor('PEM','z19')=1;       CapFactor('SOEC','z19')=1;
CapFactor('Alkaline_elec_renew','z20')=0.337;   CapFactor('PEM_renew','z20')=0.337;     CapFactor('SOEC_renew','z20')=0.337;    CapFactor('SMR','z20')=1;       CapFactor('Alkaline_elec','z20')=1;     CapFactor('PEM','z20')=1;       CapFactor('SOEC','z20')=1;
CapFactor('Alkaline_elec_renew','z21')=0.372;   CapFactor('PEM_renew','z21')=0.372;     CapFactor('SOEC_renew','z21')=0.372;    CapFactor('SMR','z21')=1;       CapFactor('Alkaline_elec','z21')=1;     CapFactor('PEM','z21')=1;       CapFactor('SOEC','z21')=1;
CapFactor('Alkaline_elec_renew','z22')=0.36;    CapFactor('PEM_renew','z22')=0.36;      CapFactor('SOEC_renew','z22')=0.36;     CapFactor('SMR','z22')=1;       CapFactor('Alkaline_elec','z22')=1;     CapFactor('PEM','z22')=1;       CapFactor('SOEC','z22')=1;
CapFactor('Alkaline_elec_renew','z23')=0.36;    CapFactor('PEM_renew','z23')=0.36;      CapFactor('SOEC_renew','z23')=0.36;     CapFactor('SMR','z23')=1;       CapFactor('Alkaline_elec','z23')=1;     CapFactor('PEM','z23')=1;       CapFactor('SOEC','z23')=1;
CapFactor('Alkaline_elec_renew','z24')=0.427;   CapFactor('PEM_renew','z24')=0.427;     CapFactor('SOEC_renew','z24')=0.427;    CapFactor('SMR','z24')=1;       CapFactor('Alkaline_elec','z24')=1;     CapFactor('PEM','z24')=1;       CapFactor('SOEC','z24')=1;
CapFactor('Alkaline_elec_renew','z25')=0.368;   CapFactor('PEM_renew','z25')=0.368;     CapFactor('SOEC_renew','z25')=0.368;    CapFactor('SMR','z25')=1;       CapFactor('Alkaline_elec','z25')=1;     CapFactor('PEM','z25')=1;       CapFactor('SOEC','z25')=1;
CapFactor('Alkaline_elec_renew','z26')=0.411;   CapFactor('PEM_renew','z26')=0.411;     CapFactor('SOEC_renew','z26')=0.411;    CapFactor('SMR','z26')=1;       CapFactor('Alkaline_elec','z26')=1;     CapFactor('PEM','z26')=1;       CapFactor('SOEC','z26')=1;
CapFactor('Alkaline_elec_renew','z27')=0.332;   CapFactor('PEM_renew','z27')=0.332;     CapFactor('SOEC_renew','z27')=0.332;    CapFactor('SMR','z27')=1;       CapFactor('Alkaline_elec','z27')=1;     CapFactor('PEM','z27')=1;       CapFactor('SOEC','z27')=1;
CapFactor('Alkaline_elec_renew','z28')=0.408;   CapFactor('PEM_renew','z28')=0.408;     CapFactor('SOEC_renew','z28')=0.408;    CapFactor('SMR','z28')=1;       CapFactor('Alkaline_elec','z28')=1;     CapFactor('PEM','z28')=1;       CapFactor('SOEC','z28')=1;
CapFactor('Alkaline_elec_renew','z29')=0.355;   CapFactor('PEM_renew','z29')=0.355;     CapFactor('SOEC_renew','z29')=0.355;    CapFactor('SMR','z29')=1;       CapFactor('Alkaline_elec','z29')=1;     CapFactor('PEM','z29')=1;       CapFactor('SOEC','z29')=1;
CapFactor('Alkaline_elec_renew','z30')=0.394;   CapFactor('PEM_renew','z30')=0.394;     CapFactor('SOEC_renew','z30')=0.394;    CapFactor('SMR','z30')=1;       CapFactor('Alkaline_elec','z30')=1;     CapFactor('PEM','z30')=1;       CapFactor('SOEC','z30')=1;
CapFactor('Alkaline_elec_renew','z31')=0.388;   CapFactor('PEM_renew','z31')=0.388;     CapFactor('SOEC_renew','z31')=0.388;    CapFactor('SMR','z31')=1;       CapFactor('Alkaline_elec','z31')=1;     CapFactor('PEM','z31')=1;       CapFactor('SOEC','z31')=1;
CapFactor('Alkaline_elec_renew','z32')=0.33;    CapFactor('PEM_renew','z32')=0.33;      CapFactor('SOEC_renew','z32')=0.33;     CapFactor('SMR','z32')=1;       CapFactor('Alkaline_elec','z32')=1;     CapFactor('PEM','z32')=1;       CapFactor('SOEC','z32')=1;
CapFactor('Alkaline_elec_renew','z33')=0.402;   CapFactor('PEM_renew','z33')=0.402;     CapFactor('SOEC_renew','z33')=0.402;    CapFactor('SMR','z33')=1;       CapFactor('Alkaline_elec','z33')=1;     CapFactor('PEM','z33')=1;       CapFactor('SOEC','z33')=1;
CapFactor('Alkaline_elec_renew','z34')=0.354;   CapFactor('PEM_renew','z34')=0.354;     CapFactor('SOEC_renew','z34')=0.354;    CapFactor('SMR','z34')=1;       CapFactor('Alkaline_elec','z34')=1;     CapFactor('PEM','z34')=1;       CapFactor('SOEC','z34')=1;
CapFactor('Alkaline_elec_solar','z1')=0.13;	CapFactor('PEM_solar','z1')=0.13;	CapFactor('SOEC_solar','z1')=0.13;
CapFactor('Alkaline_elec_solar','z2')=0.129;	CapFactor('PEM_solar','z2')=0.129;	CapFactor('SOEC_solar','z2')=0.129;
CapFactor('Alkaline_elec_solar','z3')=0.121;	CapFactor('PEM_solar','z3')=0.121;	CapFactor('SOEC_solar','z3')=0.121;
CapFactor('Alkaline_elec_solar','z4')=0.136;	CapFactor('PEM_solar','z4')=0.136;	CapFactor('SOEC_solar','z4')=0.136;
CapFactor('Alkaline_elec_solar','z5')=0.116;	CapFactor('PEM_solar','z5')=0.116;	CapFactor('SOEC_solar','z5')=0.116;
CapFactor('Alkaline_elec_solar','z6')=0.123;	CapFactor('PEM_solar','z6')=0.123;	CapFactor('SOEC_solar','z6')=0.123;
CapFactor('Alkaline_elec_solar','z7')=0.132;	CapFactor('PEM_solar','z7')=0.132;	CapFactor('SOEC_solar','z7')=0.132;
CapFactor('Alkaline_elec_solar','z8')=0.132;	CapFactor('PEM_solar','z8')=0.132;	CapFactor('SOEC_solar','z8')=0.132;
CapFactor('Alkaline_elec_solar','z9')=0.13;	CapFactor('PEM_solar','z9')=0.13;	CapFactor('SOEC_solar','z9')=0.13;
CapFactor('Alkaline_elec_solar','z10')=0.122;	CapFactor('PEM_solar','z10')=0.122;	CapFactor('SOEC_solar','z10')=0.122;
CapFactor('Alkaline_elec_solar','z11')=0.123;	CapFactor('PEM_solar','z11')=0.123;	CapFactor('SOEC_solar','z11')=0.123;
CapFactor('Alkaline_elec_solar','z12')=0.114;	CapFactor('PEM_solar','z12')=0.114;	CapFactor('SOEC_solar','z12')=0.114;
CapFactor('Alkaline_elec_solar','z13')=0.132;	CapFactor('PEM_solar','z13')=0.132;	CapFactor('SOEC_solar','z13')=0.132;
CapFactor('Alkaline_elec_solar','z14')=0.128;	CapFactor('PEM_solar','z14')=0.128;	CapFactor('SOEC_solar','z14')=0.128;
CapFactor('Alkaline_elec_solar','z15')=0.132;	CapFactor('PEM_solar','z15')=0.132;	CapFactor('SOEC_solar','z15')=0.132;
CapFactor('Alkaline_elec_solar','z16')=0.125;	CapFactor('PEM_solar','z16')=0.125;	CapFactor('SOEC_solar','z16')=0.125;
CapFactor('Alkaline_elec_solar','z17')=0.102;	CapFactor('PEM_solar','z17')=0.102;	CapFactor('SOEC_solar','z17')=0.102;
CapFactor('Alkaline_elec_solar','z18')=0.136;	CapFactor('PEM_solar','z18')=0.136;	CapFactor('SOEC_solar','z18')=0.136;
CapFactor('Alkaline_elec_solar','z19')=0.119;	CapFactor('PEM_solar','z19')=0.119;	CapFactor('SOEC_solar','z19')=0.119;
CapFactor('Alkaline_elec_solar','z20')=0.126;	CapFactor('PEM_solar','z20')=0.126;	CapFactor('SOEC_solar','z20')=0.126;
CapFactor('Alkaline_elec_solar','z21')=0.124;	CapFactor('PEM_solar','z21')=0.124;	CapFactor('SOEC_solar','z21')=0.124;
CapFactor('Alkaline_elec_solar','z22')=0.132;	CapFactor('PEM_solar','z22')=0.132;	CapFactor('SOEC_solar','z22')=0.132;
CapFactor('Alkaline_elec_solar','z23')=0.12;	CapFactor('PEM_solar','z23')=0.12;	CapFactor('SOEC_solar','z23')=0.12;
CapFactor('Alkaline_elec_solar','z24')=0.111;	CapFactor('PEM_solar','z24')=0.111;	CapFactor('SOEC_solar','z24')=0.111;
CapFactor('Alkaline_elec_solar','z25')=0.124;	CapFactor('PEM_solar','z25')=0.124;	CapFactor('SOEC_solar','z25')=0.124;
CapFactor('Alkaline_elec_solar','z26')=0.12;	CapFactor('PEM_solar','z26')=0.12;	CapFactor('SOEC_solar','z26')=0.12;
CapFactor('Alkaline_elec_solar','z27')=0.123;	CapFactor('PEM_solar','z27')=0.123;	CapFactor('SOEC_solar','z27')=0.123;
CapFactor('Alkaline_elec_solar','z28')=0.113;	CapFactor('PEM_solar','z28')=0.113;	CapFactor('SOEC_solar','z28')=0.113;
CapFactor('Alkaline_elec_solar','z29')=0.124;	CapFactor('PEM_solar','z29')=0.124;	CapFactor('SOEC_solar','z29')=0.124;
CapFactor('Alkaline_elec_solar','z30')=0.135;	CapFactor('PEM_solar','z30')=0.135;	CapFactor('SOEC_solar','z30')=0.135;
CapFactor('Alkaline_elec_solar','z31')=0.129;	CapFactor('PEM_solar','z31')=0.129;	CapFactor('SOEC_solar','z31')=0.129;
CapFactor('Alkaline_elec_solar','z32')=0.125;	CapFactor('PEM_solar','z32')=0.125;	CapFactor('SOEC_solar','z32')=0.125;
CapFactor('Alkaline_elec_solar','z33')=0.127;	CapFactor('PEM_solar','z33')=0.127;	CapFactor('SOEC_solar','z33')=0.127;
CapFactor('Alkaline_elec_solar','z34')=0.123;	CapFactor('PEM_solar','z34')=0.123;	CapFactor('SOEC_solar','z34')=0.123;



Parameters
    ProdFixedOPEX(p,y) "Fixed annual OPEX as a percentage of CAPEX (%)";
ProdFixedOPEX('SMR','2020')=0.0358259411044112;
ProdFixedOPEX('SMR','2025')=0.0381405738379089;
ProdFixedOPEX('SMR','2030')=0.0404290082681834;
ProdFixedOPEX('SMR','2035')=0.0428547487642744;
ProdFixedOPEX('SMR','2040')=0.0454260336901309;
ProdFixedOPEX('SMR','2045')=0.0481515957115388;
ProdFixedOPEX('SMR','2050')=0.0510406914542311;

ProdFixedOPEX('Alkaline_Elec','2020')=0.0279;
ProdFixedOPEX('Alkaline_Elec','2025')=0.0279;
ProdFixedOPEX('Alkaline_Elec','2030')=0.0279;
ProdFixedOPEX('Alkaline_Elec','2035')=0.0279;
ProdFixedOPEX('Alkaline_Elec','2040')=0.0279;
ProdFixedOPEX('Alkaline_Elec','2045')=0.0279;
ProdFixedOPEX('Alkaline_Elec','2050')=0.0279;

ProdFixedOPEX('PEM','2020')=0.0279;
ProdFixedOPEX('PEM','2025')=0.0279;
ProdFixedOPEX('PEM','2030')=0.0279;
ProdFixedOPEX('PEM','2035')=0.0279;
ProdFixedOPEX('PEM','2040')=0.0279;
ProdFixedOPEX('PEM','2045')=0.0279;
ProdFixedOPEX('PEM','2050')=0.0279;

ProdFixedOPEX('SOEC','2020')=0.0279;
ProdFixedOPEX('SOEC','2025')=0.0279;
ProdFixedOPEX('SOEC','2030')=0.0279;
ProdFixedOPEX('SOEC','2035')=0.0279;
ProdFixedOPEX('SOEC','2040')=0.0279;
ProdFixedOPEX('SOEC','2045')=0.0279;
ProdFixedOPEX('SOEC','2050')=0.0279;

ProdFixedOPEX('Alkaline_Elec_renew','2020')=0.0279;
ProdFixedOPEX('Alkaline_Elec_renew','2025')=0.0279;
ProdFixedOPEX('Alkaline_Elec_renew','2030')=0.0279;
ProdFixedOPEX('Alkaline_Elec_renew','2035')=0.0279;
ProdFixedOPEX('Alkaline_Elec_renew','2040')=0.0279;
ProdFixedOPEX('Alkaline_Elec_renew','2045')=0.0279;
ProdFixedOPEX('Alkaline_Elec_renew','2050')=0.0279;

ProdFixedOPEX('PEM_renew','2020')=0.0279;
ProdFixedOPEX('PEM_renew','2025')=0.0279;
ProdFixedOPEX('PEM_renew','2030')=0.0279;
ProdFixedOPEX('PEM_renew','2035')=0.0279;
ProdFixedOPEX('PEM_renew','2040')=0.0279;
ProdFixedOPEX('PEM_renew','2045')=0.0279;
ProdFixedOPEX('PEM_renew','2050')=0.0279;

ProdFixedOPEX('SOEC_renew','2020')=0.0279;
ProdFixedOPEX('SOEC_renew','2025')=0.0279;
ProdFixedOPEX('SOEC_renew','2030')=0.0279;
ProdFixedOPEX('SOEC_renew','2035')=0.0279;
ProdFixedOPEX('SOEC_renew','2040')=0.0279;
ProdFixedOPEX('SOEC_renew','2045')=0.0279;
ProdFixedOPEX('SOEC_renew','2050')=0.0279;

ProdFixedOPEX('Alkaline_Elec_solar','2020')=0.0339;
ProdFixedOPEX('Alkaline_Elec_solar','2025')=0.0339;
ProdFixedOPEX('Alkaline_Elec_solar','2030')=0.0339;
ProdFixedOPEX('Alkaline_Elec_solar','2035')=0.0339;
ProdFixedOPEX('Alkaline_Elec_solar','2040')=0.0339;
ProdFixedOPEX('Alkaline_Elec_solar','2045')=0.0339;
ProdFixedOPEX('Alkaline_Elec_solar','2050')=0.0339;

ProdFixedOPEX('PEM_solar','2020')=0.0339;
ProdFixedOPEX('PEM_solar','2025')=0.0339;
ProdFixedOPEX('PEM_solar','2030')=0.0339;
ProdFixedOPEX('PEM_solar','2035')=0.0339;
ProdFixedOPEX('PEM_solar','2040')=0.0339;
ProdFixedOPEX('PEM_solar','2045')=0.0339;
ProdFixedOPEX('PEM_solar','2050')=0.0339;

ProdFixedOPEX('SOEC_solar','2020')=0.0339;
ProdFixedOPEX('SOEC_solar','2025')=0.0339;
ProdFixedOPEX('SOEC_solar','2030')=0.0339;
ProdFixedOPEX('SOEC_solar','2035')=0.0339;
ProdFixedOPEX('SOEC_solar','2040')=0.0339;
ProdFixedOPEX('SOEC_solar','2045')=0.0339;
ProdFixedOPEX('SOEC_solar','2050')=0.0339;




Parameters
    EmissionFactorP(p,y) "Carbon emissions from production technology (kg/kWhH2)"   ;

EmissionFactorP('SMR','2020')=0.03003003003003;
EmissionFactorP('SMR','2025')=0.03003003003003;
EmissionFactorP('SMR','2030')=0.03003003003003;
EmissionFactorP('SMR','2035')=0.03003003003003;
EmissionFactorP('SMR','2040')=0.03003003003003;
EmissionFactorP('SMR','2045')=0.03003003003003;
EmissionFactorP('SMR','2050')=0.03003003003003;

EmissionFactorP('Alkaline_Elec','2020')=0.207389886204282;
EmissionFactorP('Alkaline_Elec','2025')=0.152377523163745;
EmissionFactorP('Alkaline_Elec','2030')=0.118069810775464;
EmissionFactorP('Alkaline_Elec','2035')=0.0578560797781485;
EmissionFactorP('Alkaline_Elec','2040')=0.057382819411865;
EmissionFactorP('Alkaline_Elec','2045')=0.0478570836833858;
EmissionFactorP('Alkaline_Elec','2050')=0.0383284254788057;

EmissionFactorP('PEM','2020')=0.223655759632069;
EmissionFactorP('PEM','2025')=0.158472624090295;
EmissionFactorP('PEM','2030')=0.119746258392965;
EmissionFactorP('PEM','2035')=0.0583293401444319;
EmissionFactorP('PEM','2040')=0.057382819411865;
EmissionFactorP('PEM','2045')=0.0478570836833858;
EmissionFactorP('PEM','2050')=0.0383284254788057;

EmissionFactorP('SOEC','2020')=0.158592265920921;
EmissionFactorP('SOEC','2025')=0.115197407511791;
EmissionFactorP('SOEC','2030')=0.0881332461772225;
EmissionFactorP('SOEC','2035')=0.0427117480570789;
EmissionFactorP('SOEC','2040')=0.0420018575076538;
EmissionFactorP('SOEC','2045')=0.0349762951143585;
EmissionFactorP('SOEC','2050')=0.0279478102449625;

EmissionFactorP('Alkaline_Elec_renew','2020')=00.01;
EmissionFactorP('Alkaline_Elec_renew','2025')=00.01;
EmissionFactorP('Alkaline_Elec_renew','2030')=00.01;
EmissionFactorP('Alkaline_Elec_renew','2035')=00.01;
EmissionFactorP('Alkaline_Elec_renew','2040')=00.01;
EmissionFactorP('Alkaline_Elec_renew','2045')=00.01;
EmissionFactorP('Alkaline_Elec_renew','2050')=00.01;

EmissionFactorP('PEM_renew','2020')=0.01;
EmissionFactorP('PEM_renew','2025')=00.01;
EmissionFactorP('PEM_renew','2030')=00.01;
EmissionFactorP('PEM_renew','2035')=00.01;
EmissionFactorP('PEM_renew','2040')=00.01;
EmissionFactorP('PEM_renew','2045')=00.01;
EmissionFactorP('PEM_renew','2050')=00.01;

EmissionFactorP('SOEC_renew','2020')=00.01;
EmissionFactorP('SOEC_renew','2025')=00.01;
EmissionFactorP('SOEC_renew','2030')=00.01;
EmissionFactorP('SOEC_renew','2035')=00.01;
EmissionFactorP('SOEC_renew','2040')=0.010;
EmissionFactorP('SOEC_renew','2045')=0.010;
EmissionFactorP('SOEC_renew','2050')=0.010;

EmissionFactorP('Alkaline_Elec_solar','2020')=0;
EmissionFactorP('Alkaline_Elec_solar','2025')=0;
EmissionFactorP('Alkaline_Elec_solar','2030')=0;
EmissionFactorP('Alkaline_Elec_solar','2035')=0;
EmissionFactorP('Alkaline_Elec_solar','2040')=0;
EmissionFactorP('Alkaline_Elec_solar','2045')=0;
EmissionFactorP('Alkaline_Elec_solar','2050')=0;

EmissionFactorP('PEM_solar','2020')=0;
EmissionFactorP('PEM_solar','2025')=0;
EmissionFactorP('PEM_solar','2030')=0;
EmissionFactorP('PEM_solar','2035')=0;
EmissionFactorP('PEM_solar','2040')=0;
EmissionFactorP('PEM_solar','2045')=0;
EmissionFactorP('PEM_solar','2050')=0;

EmissionFactorP('SOEC_solar','2020')=0;
EmissionFactorP('SOEC_solar','2025')=0;
EmissionFactorP('SOEC_solar','2030')=0;
EmissionFactorP('SOEC_solar','2035')=0;
EmissionFactorP('SOEC_solar','2040')=0;
EmissionFactorP('SOEC_solar','2045')=0;
EmissionFactorP('SOEC_solar','2050')=0;



***************************************************************************************************************************
*----------------------------------- Production Facility Constraints ------------------------------------------------------
***************************************************************************************************************************

Equations
*---------------- Production Facility Constraints ----------------------------------------
    eq5     "Production facility installed capacity minimum"
    eq6     "Production facilitiy installed capacity"
    eq7     "Vintage production facilitiy capacity"

    eq8_SMR2020    "Lifetime of production facility   (Causes infeasible)"
    eq8_SMR2025
    eq8_Alk2020
    eq8_Alk2025
    eq8_Alk2030
    eq8_Alk2035
    eq8_Alk2040
    eq8_PEM2020
    eq8_PEM2025
    eq8_PEM2030
    eq8_PEM2035
    eq8_PEM2040
    eq8_SOEC2020
    eq8_SOEC2025
    eq8_SOEC2030
    eq8_SOEC2035
    eq8_SOEC2040
    eq8_SOEC2045
    eq8_Alk_renew2020
    eq8_Alk_renew2025
    eq8_Alk_renew2030
    eq8_Alk_renew2035
    eq8_Alk_renew2040
    eq8_PEM_renew2020
    eq8_PEM_renew2025
    eq8_PEM_renew2030
    eq8_PEM_renew2035
    eq8_PEM_renew2040
    eq8_SOEC_renew2020
    eq8_SOEC_renew2025
    eq8_SOEC_renew2030
    eq8_SOEC_renew2035
    eq8_SOEC_renew2040
    eq8_SOEC_renew2045
    eq8_Alk_solar2020
    eq8_Alk_solar2025
    eq8_Alk_solar2030
    eq8_Alk_solar2035
    eq8_Alk_solar2040
    eq8_PEM_solar2020
    eq8_PEM_solar2025
    eq8_PEM_solar2030
    eq8_PEM_solar2035
    eq8_PEM_solar2040
    eq8_SOEC_solar2020
    eq8_SOEC_solar2025
    eq8_SOEC_solar2030
    eq8_SOEC_solar2035
    eq8_SOEC_solar2040
    eq8_SOEC_solar2045



    eq9     "Vintage capacity boundary condition"
    eq10    "Decomissioned capacity boundary condition"

    eq11    "Production facilitiy operating costs"

    eq12    "Production facility capital costs"
    eq13    "Production facility salvage value"
    Turbine_Constraint  "Land availability for wind turbines"
    solar_pv_constraint "Land availability for solar PV"

    ;

*----------------------------------- Production Facility Constraints ------------------------------------------------------
eq5(p,z,g,y)..                          PR(p,z,g,y) =l= IPRCap(p,z,g,y) * CapFactor(p,z) ;

eq6(p,z,g,yd)..                         IPRCap(p,z,g,yd) =e= sum(y$(y.val <= yd.val), VPRCap(p,z,g,y,yd) ) ;

eq7(p,z,g,y,ys)$(y.val <= ys.val)..     VPRCap(p,z,g,y,ys) =e= NPRCap(p,z,g,y) - sum(yd$(ord(yd)<=ord(ys)), DPRCap(p,z,g,y,yd))  ;

Turbine_Constraint(p,z,g,y)..                      (2*sqrt(3)*(5*(R_w/1000))**(2) * ( IPRCap('Alkaline_elec_renew',z,g,y) / (2.86*1000) ) )
                                                           + (2*sqrt(3)*(5*(R_w/1000))**(2) * ( IPRCap('PEM_renew',z,g,y) / (2.86*1000) ))
                                                            + (2*sqrt(3)*(5*(R_w/1000))**(2) * ( IPRCap('SOEC_renew',z,g,y) / (2.86*1000) )) =l= Area(z) ;

solar_pv_constraint(p,z,g,y)..                      ( (IPRCAP('Alkaline_elec_solar',z,g,y) / solar_area) + (IPRCAP('PEM_solar',z,g,y) / solar_area) + (IPRCAP('SOEC_solar',z,g,y) / solar_area) ) =l= Area(z) ;

eq8_SMR2020('SMR',z,g,'2020')..                NPRCap('SMR',z,g,'2020') =e=  DPRCap('SMR',z,g,'2020','2025') + DPRCap('SMR',z,g,'2020','2030') + DPRCap('SMR',z,g,'2020','2035') + DPRCap('SMR',z,g,'2020','2040') + DPRCap('SMR',z,g,'2020','2045')    ;
eq8_SMR2025('SMR',z,g,'2025')..                NPRCap('SMR',z,g,'2025') =e=  DPRCap('SMR',z,g,'2025','2030') + DPRCap('SMR',z,g,'2025','2035') + DPRCap('SMR',z,g,'2025','2040') + DPRCap('SMR',z,g,'2025','2045') + DPRCap('SMR',z,g,'2025','2050')   ;

eq8_Alk2020('Alkaline_elec',z,g,'2020')..      NPRCap('Alkaline_elec',z,g,'2020') =e=  DPRCap('Alkaline_elec',z,g,'2020','2025')    ;
eq8_Alk2025('Alkaline_elec',z,g,'2025')..      NPRCap('Alkaline_elec',z,g,'2025') =e=  DPRCap('Alkaline_elec',z,g,'2025','2030')    ;
eq8_Alk2030('Alkaline_elec',z,g,'2030')..      NPRCap('Alkaline_elec',z,g,'2030') =e=  DPRCap('Alkaline_elec',z,g,'2030','2035') + DPRCap('Alkaline_elec',z,g,'2030','2040')    ;
eq8_Alk2035('Alkaline_elec',z,g,'2035')..      NPRCap('Alkaline_elec',z,g,'2035') =e=  DPRCap('Alkaline_elec',z,g,'2035','2040') + DPRCap('Alkaline_elec',z,g,'2035','2045')    ;
eq8_Alk2040('Alkaline_elec',z,g,'2040')..      NPRCap('Alkaline_elec',z,g,'2040') =e=  DPRCap('Alkaline_elec',z,g,'2040','2045') + DPRCap('Alkaline_elec',z,g,'2040','2050')    ;

eq8_PEM2020('PEM',z,g,'2020')..      NPRCap('PEM',z,g,'2020') =e=  DPRCap('PEM',z,g,'2020','2025')    ;
eq8_PEM2025('PEM',z,g,'2025')..      NPRCap('PEM',z,g,'2025') =e=  DPRCap('PEM',z,g,'2025','2030')    ;
eq8_PEM2030('PEM',z,g,'2030')..      NPRCap('PEM',z,g,'2030') =e=  DPRCap('PEM',z,g,'2030','2035') + DPRCap('PEM',z,g,'2030','2040')    ;
eq8_PEM2035('PEM',z,g,'2035')..      NPRCap('PEM',z,g,'2035') =e=  DPRCap('PEM',z,g,'2035','2040') + DPRCap('PEM',z,g,'2035','2045')    ;
eq8_PEM2040('PEM',z,g,'2040')..      NPRCap('PEM',z,g,'2040') =e=  DPRCap('PEM',z,g,'2040','2045') + DPRCap('PEM',z,g,'2040','2050')    ;

eq8_SOEC2020('SOEC',z,g,'2020')..      NPRCap('SOEC',z,g,'2020') =e=  DPRCap('SOEC',z,g,'2020','2025')    ;
eq8_SOEC2025('SOEC',z,g,'2025')..      NPRCap('SOEC',z,g,'2025') =e=  DPRCap('SOEC',z,g,'2025','2030')    ;
eq8_SOEC2030('SOEC',z,g,'2030')..      NPRCap('SOEC',z,g,'2030') =e=  DPRCap('SOEC',z,g,'2030','2035')    ;
eq8_SOEC2035('SOEC',z,g,'2035')..      NPRCap('SOEC',z,g,'2035') =e=  DPRCap('SOEC',z,g,'2035','2040')    ;
eq8_SOEC2040('SOEC',z,g,'2040')..      NPRCap('SOEC',z,g,'2040') =e=  DPRCap('SOEC',z,g,'2040','2045')    ;
eq8_SOEC2045('SOEC',z,g,'2045')..      NPRCap('SOEC',z,g,'2045') =e=  DPRCap('SOEC',z,g,'2045','2050')    ;

eq8_Alk_renew2020('Alkaline_elec_renew',z,g,'2020')..      NPRCap('Alkaline_elec_renew',z,g,'2020') =e=  DPRCap('Alkaline_elec_renew',z,g,'2020','2025')    ;
eq8_Alk_renew2025('Alkaline_elec_renew',z,g,'2025')..      NPRCap('Alkaline_elec_renew',z,g,'2025') =e=  DPRCap('Alkaline_elec_renew',z,g,'2025','2030')    ;
eq8_Alk_renew2030('Alkaline_elec_renew',z,g,'2030')..      NPRCap('Alkaline_elec_renew',z,g,'2030') =e=  DPRCap('Alkaline_elec_renew',z,g,'2030','2035') + DPRCap('Alkaline_elec_renew',z,g,'2030','2040')    ;
eq8_Alk_renew2035('Alkaline_elec_renew',z,g,'2035')..      NPRCap('Alkaline_elec_renew',z,g,'2035') =e=  DPRCap('Alkaline_elec_renew',z,g,'2035','2040') + DPRCap('Alkaline_elec_renew',z,g,'2035','2045')    ;
eq8_Alk_renew2040('Alkaline_elec_renew',z,g,'2040')..      NPRCap('Alkaline_elec_renew',z,g,'2040') =e=  DPRCap('Alkaline_elec_renew',z,g,'2040','2045') + DPRCap('Alkaline_elec_renew',z,g,'2040','2050')    ;

eq8_PEM_renew2020('PEM_renew',z,g,'2020')..      NPRCap('PEM_renew',z,g,'2020') =e=  DPRCap('PEM_renew',z,g,'2020','2025')    ;
eq8_PEM_renew2025('PEM_renew',z,g,'2025')..      NPRCap('PEM_renew',z,g,'2025') =e=  DPRCap('PEM_renew',z,g,'2025','2030')    ;
eq8_PEM_renew2030('PEM_renew',z,g,'2030')..      NPRCap('PEM_renew',z,g,'2030') =e=  DPRCap('PEM_renew',z,g,'2030','2035') + DPRCap('PEM_renew',z,g,'2030','2040')    ;
eq8_PEM_renew2035('PEM_renew',z,g,'2035')..      NPRCap('PEM_renew',z,g,'2035') =e=  DPRCap('PEM_renew',z,g,'2035','2040') + DPRCap('PEM_renew',z,g,'2035','2045')    ;
eq8_PEM_renew2040('PEM_renew',z,g,'2040')..      NPRCap('PEM_renew',z,g,'2040') =e=  DPRCap('PEM_renew',z,g,'2040','2045') + DPRCap('PEM_renew',z,g,'2040','2050')    ;

eq8_SOEC_renew2020('SOEC_renew',z,g,'2020')..      NPRCap('SOEC_renew',z,g,'2020') =e=  DPRCap('SOEC_renew',z,g,'2020','2025')    ;
eq8_SOEC_renew2025('SOEC_renew',z,g,'2025')..      NPRCap('SOEC_renew',z,g,'2025') =e=  DPRCap('SOEC_renew',z,g,'2025','2030')    ;
eq8_SOEC_renew2030('SOEC_renew',z,g,'2030')..      NPRCap('SOEC_renew',z,g,'2030') =e=  DPRCap('SOEC_renew',z,g,'2030','2035')    ;
eq8_SOEC_renew2035('SOEC_renew',z,g,'2035')..      NPRCap('SOEC_renew',z,g,'2035') =e=  DPRCap('SOEC_renew',z,g,'2035','2040')    ;
eq8_SOEC_renew2040('SOEC_renew',z,g,'2040')..      NPRCap('SOEC_renew',z,g,'2040') =e=  DPRCap('SOEC_renew',z,g,'2040','2045')    ;
eq8_SOEC_renew2045('SOEC_renew',z,g,'2045')..      NPRCap('SOEC_renew',z,g,'2045') =e=  DPRCap('SOEC_renew',z,g,'2045','2050')    ;

eq8_Alk_solar2020('Alkaline_elec_solar',z,g,'2020')..      NPRCap('Alkaline_elec_solar',z,g,'2020') =e=  DPRCap('Alkaline_elec_solar',z,g,'2020','2025')    ;
eq8_Alk_solar2025('Alkaline_elec_solar',z,g,'2025')..      NPRCap('Alkaline_elec_solar',z,g,'2025') =e=  DPRCap('Alkaline_elec_solar',z,g,'2025','2030')    ;
eq8_Alk_solar2030('Alkaline_elec_solar',z,g,'2030')..      NPRCap('Alkaline_elec_solar',z,g,'2030') =e=  DPRCap('Alkaline_elec_solar',z,g,'2030','2035') + DPRCap('Alkaline_elec_solar',z,g,'2030','2040')    ;
eq8_Alk_solar2035('Alkaline_elec_solar',z,g,'2035')..      NPRCap('Alkaline_elec_solar',z,g,'2035') =e=  DPRCap('Alkaline_elec_solar',z,g,'2035','2040') + DPRCap('Alkaline_elec_solar',z,g,'2035','2045')    ;
eq8_Alk_solar2040('Alkaline_elec_solar',z,g,'2040')..      NPRCap('Alkaline_elec_solar',z,g,'2040') =e=  DPRCap('Alkaline_elec_solar',z,g,'2040','2045') + DPRCap('Alkaline_elec_solar',z,g,'2040','2050')    ;

eq8_PEM_solar2020('PEM_solar',z,g,'2020')..      NPRCap('PEM_solar',z,g,'2020') =e=  DPRCap('PEM_solar',z,g,'2020','2025')    ;
eq8_PEM_solar2025('PEM_solar',z,g,'2025')..      NPRCap('PEM_solar',z,g,'2025') =e=  DPRCap('PEM_solar',z,g,'2025','2030')    ;
eq8_PEM_solar2030('PEM_solar',z,g,'2030')..      NPRCap('PEM_solar',z,g,'2030') =e=  DPRCap('PEM_solar',z,g,'2030','2035') + DPRCap('PEM_solar',z,g,'2030','2040')    ;
eq8_PEM_solar2035('PEM_solar',z,g,'2035')..      NPRCap('PEM_solar',z,g,'2035') =e=  DPRCap('PEM_solar',z,g,'2035','2040') + DPRCap('PEM_solar',z,g,'2035','2045')    ;
eq8_PEM_solar2040('PEM_solar',z,g,'2040')..      NPRCap('PEM_solar',z,g,'2040') =e=  DPRCap('PEM_solar',z,g,'2040','2045') + DPRCap('PEM_solar',z,g,'2040','2050')    ;

eq8_SOEC_solar2020('SOEC_solar',z,g,'2020')..      NPRCap('SOEC_solar',z,g,'2020') =e=  DPRCap('SOEC_solar',z,g,'2020','2025')    ;
eq8_SOEC_solar2025('SOEC_solar',z,g,'2025')..      NPRCap('SOEC_solar',z,g,'2025') =e=  DPRCap('SOEC_solar',z,g,'2025','2030')    ;
eq8_SOEC_solar2030('SOEC_solar',z,g,'2030')..      NPRCap('SOEC_solar',z,g,'2030') =e=  DPRCap('SOEC_solar',z,g,'2030','2035')    ;
eq8_SOEC_solar2035('SOEC_solar',z,g,'2035')..      NPRCap('SOEC_solar',z,g,'2035') =e=  DPRCap('SOEC_solar',z,g,'2035','2040')    ;
eq8_SOEC_solar2040('SOEC_solar',z,g,'2040')..      NPRCap('SOEC_solar',z,g,'2040') =e=  DPRCap('SOEC_solar',z,g,'2040','2045')    ;
eq8_SOEC_solar2045('SOEC_solar',z,g,'2045')..      NPRCap('SOEC_solar',z,g,'2045') =e=  DPRCap('SOEC_solar',z,g,'2045','2050')    ;



eq9(p,z,g,y,yd)$(y.val > yd.val)..      VPRCap(p,z,g,y,yd) =e=  0   ;

eq10(p,z,g,y,yd)$(y.val ge yd.val)..    DPRCap(p,z,g,y,yd) =e= 0    ;


*----------------------------------- Production Facility Operating Costs ------------------------------------------------------

eq11..      POC =e= sum((p,z,g,y)$(y.val lt 2050), (( alpha * OCostP(p,y) * IPRCAP(p,z,g,y) * (( (1)/( (1+r)**(y.val - 2020) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 1) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 2) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 3) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 4) ) )))) )
                    + sum((p,z,g,y)$(y.val eq 2050), ( alpha * OCostP(p,y) * IPRCAP(p,z,g,y) * ( 1/( (1+r)**(y.val - 2020) ) )) )
                    +  ( sum((p,z,g,y)$(y.val lt 2050), ProdFixedOPEX(p,y) * ( (CCostP(p,y) * IPRCap(p,z,g,y)) )  * (( (1)/( (1+r)**(y.val - 2020) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 1) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 2) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 3) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 4) ) ))))
                    +  ( sum((p,z,g,y)$(y.val eq 2050), ProdFixedOPEX(p,y) * ((CCostP(p,y) * IPRCap(p,z,g,y))  * ( 1/( (1+r)**(y.val - 2020)))))) ;


*----------------------------------- Production Facility Capital Costs ------------------------------------------------------
eq12..      PCC =e= sum((p,z,g,y), (CCostP(p,y) * NPRCap(p,z,g,y)) * 1/((1+r)**(y.val - 2020)) )    ;

*----------------------------------- Production Facility Salvage Value ------------------------------------------------------
eq13(yd)..      PSV =e= sum((p,z,g,y), (CCostP(p,y) * VPRCap(p,z,g,y,'2050')) * ((Lprod(p,y) - ((2051-2020) - (y.val-2020)))/(Lprod(p,y)) * (1/((1+r)**(2051-2020)))   ) )  ;



***************************************************************************************************************************
*----------------------------------- Transportation Constraints ------------------------------------------------------
***************************************************************************************************************************

Positive Variables
    ITCapL(l,z,g,y)         "Localised distribution transport capacity"
    ITCapR(l,z,zd,g,y)      "Regional transmission transport capacity"

    VTCapL(l,z,g,y,y)      "Local transportation vintage capacity"
    NTCapL(l,z,g,y)        "Newly installed local transport capacity"
    DTCapL(l,z,g,y,y)     "Decomissioned local transport capacity"

    VTCapR(l,z,zd,g,y,y)      "Regional transportation vintage capacity"
    NTCapR(l,z,zd,g,y)        "Newly installed Regional transport capacity"
    DTCapR(l,z,zd,g,y,y)      "Decomissioned regional transport capacity"


    TOC     "Total transportation operational costs"
    TOC_R   "Regional transport operating costs"
    TOC_L   "Local transport operating costs"

    TCC     "Total transport capital costs"
    TCC_R   "Regional transport capital costs"
    TCC_L   "Local transport capital costs"

    TSV     "Total transport salvage value"
    TSV_R   "Regional transport salvage value"
    TSV_L   "Local transport salvage value"

    ;

Parameters
    Ltrans(l)   "Regional Transport technology lifetime (Years)" ;
    Ltrans('pipe_clean')=40;
    Ltrans('pipe_dirty')=40;
    Ltrans('truck_clean')=15;
    Ltrans('truck_dirty')=15;
    Ltrans('GD_repurpose_dirty')=40;
    Ltrans('GD_Blended')=40;

Parameters
    CCostTR(l,g,y) "Capital costs of regional transport (/kW-km)" ;
    CCostTR('pipe_clean',g,y)=0.2665;
    CCostTR('pipe_dirty',g,y)=0.2665;
    CCostTR('truck_clean',g,y)=0.0767676767676768;
    CCostTR('truck_dirty',g,y)=0.0767676767676768;
    CCostTR('GD_repurpose_dirty',g,y)=0;
    CCostTR('GD_Blended',g,y)=0;

Parameters
    OCostTR(l,g,y) "Variable Operating costs of regional transport (/kWh-km)" ;
    OCostTR('truck_clean',g,y)=0.00004023136;
    OCostTR('truck_dirty',g,y)=0.00004023136;
    OCostTR('pipe_clean',g,y)=0;
    OCostTR('pipe_dirty',g,y)=0;
    OCostTR('GD_repurpose_dirty',g,y)=0;
    OCostTR('GD_Blended',g,y)=0;

Parameters
    CCostTL(l,g,y) "Capital costs of local transport (/kW-km)" ;
    CCostTL('pipe_clean',g,y)=2.66;
    CCostTL('pipe_dirty',g,y)=2.66;
    CCostTL('truck_clean',g,y)=0.153535353535354;
    CCostTL('truck_dirty',g,y)=0.153535353535354;
    CCostTL('GD_repurpose_dirty',g,y)=1.08;
    CCostTL('GD_Blended',g,y)=0;

Parameters
    OCostTL(l,g,y) "Operating costs of local transport(/kWh-km)" ;
    OCostTL('truck_clean',g,y)=0.00006160560;
    OCostTL('truck_dirty',g,y)=0.00006160560;
    OCostTL('pipe_clean',g,y)=0;
    OCostTL('pipe_dirty',g,y)=0;
    OCostTL('GD_repurpose_dirty',g,y)=0;
    OCostTL('GD_Blended',g,y)=0;


Parameters
    LUTR(l) "Loading/Unloading time costs regional (/kWh)";
    LUTR('truck_clean')=0.0009576;
    LUTR('truck_dirty')=0.0009576;
    LUTR('pipe_clean')=0;
    LUTR('pipe_dirty')=0;
    LUTR('GD_repurpose_dirty')=0;
    LUTR('GD_Blended')=0;

Parameters
    LUTL(l) "Loading/Unloading time costs local (/kWh)";
    LUTL('truck_clean')=0.0009576;
    LUTL('truck_dirty')=0.0009576;
    LUTL('pipe_clean')=0;
    LUTL('pipe_dirty')=0;
    LUTL('GD_repurpose_dirty')=0;
    LUTL('GD_Blended')=0;

Parameters
    TransRFixedOPEX(l) "Fixed annual OPEX of regional transport as a percentage of CAPEX (%)" ;
    TransRFixedOPEX('truck_clean')=0.12;
    TransRFixedOPEX('truck_dirty')=0.12;
    TransRFixedOPEX('pipe_clean')=0.0022;
    TransRFixedOPEX('pipe_dirty')=0.0022;
    TransRFixedOPEX('GD_repurpose_dirty')=0;
    TransRFixedOPEX('GD_Blended')=0;

Parameters
    TransLFixedOPEX(l) "Fixed annual OPEX of local transport as a percentage of CAPEX (%)" ;
    TransLFixedOPEX('truck_clean')=0.12;
    TransLFixedOPEX('truck_dirty')=0.12;
    TransLFixedOPEX('pipe_clean')=0.0022;
    TransLFixedOPEX('pipe_dirty')=0.0022;
    TransLFixedOPEX('GD_repurpose_dirty')=0.0022;
    TransLFixedOPEX('GD_Blended')=0.0022;

Parameters
    EmissionFactorT(l)  "Emission factor associated with transport technology (kgCO2/kWhH2"    ;
    EmissionFactorT('truck_clean')=0.001354081;
    EmissionFactorT('truck_dirty')=0.001354081;
    EmissionFactorT('pipe_clean')=0;
    EmissionFactorT('pipe_dirty')=0;
    EmissionFactorT('GD_repurpose_dirty')=0;
    EmissionFactorT('GD_Blended')=0;


Equations
    eq14    "Localised transport capacity"
    eq15    "Regional transport capacity"
    eq15a   "Neighbouring rule for transport capacity"


    eq17    "Local transport installed capacity"
    eq18    "Local transport vintage capacity"

    eq19_NPC2020   "Newly installed regional transport capacity  (Causes infeasibile!!!)"
    eq19_NPD2020

    eq19_TC2020
    eq19_TC2025
    eq19_TC2030
    eq19_TC2035

    eq19_TD2020
    eq19_TD2025
    eq19_TD2030
    eq19_TD2035

    eq19_GD2020

    eq19_GDB2020


    eq20    "Regional transport installed capacity"
    eq21    "Regional transport vintage capacity"

    eq22_NPC2020   "Newly installed local transport capacity  (Causes infeasibile!!!)"
    eq22_NPD2020

    eq22_TC2020
    eq22_TC2025
    eq22_TC2030
    eq22_TC2035

    eq22_TD2020
    eq22_TD2025
    eq22_TD2030
    eq22_TD2035


    eq23    "Local vintage capacity boundary constraints"
    eq24    "Local decomissioned capacity boundary constraints"
    eq25    "Regional vintage capacity boundary constraint"
    eq26    "Regional decomissioned capacity boundary constraint"


    eq27    "Total transportation operational cost"
    eq28    "Regional transport operating costs"
    eq29    "Local transport operating costs"

    eq30    "Total transport capital costs"
    eq31    "Regional transport capital costs"
    eq32    "Local transport capital costs"

    eq33    "Total transport salvage value"
    eq34    "Regional transport salvage value"
    eq35    "Local transport salvage value"

    ;


eq14(l,z,g,y)..     QLOC(l,z,g,y) =l= ITCapL(l,z,g,y)   ;

eq15(l,z,zd,g,y)..  Q(l,z,zd,g,y) =l= ITCapR(l,z,zd,g,y)    ;

eq15a(l,z,zd,g,y).. ITCapR(l,z,zd,g,y) =l= Neigh(z,zd) * M  ;

*-------------------- Local Transport Capacities --------------------------------------------------------
eq17(l,z,g,yd)..    ITCapL(l,z,g,yd) =e= sum(y$(y.val <= yd.val), VTCapL(l,z,g,y,yd))   ;

eq18(l,z,g,y,ys)$(y.val <= ys.val)..  VTCapL(l,z,g,y,ys) =e= NTCapL(l,z,g,y) - sum(yd$(yd.val <= ys.val), DTCapL(l,z,g,y,yd) )    ;


eq19_NPC2020('pipe_clean',z,'clean','2020')..   NTCapL('pipe_clean',z,'clean','2020') =e= DTCapL('pipe_clean',z,'clean','2020','2025') + DTCapL('pipe_clean',z,'clean','2020','2030') + DTCapL('pipe_clean',z,'clean','2020','2035') + DTCapL('pipe_clean',z,'clean','2020','2040') + DTCapL('pipe_clean',z,'clean','2020','2045') + DTCapL('pipe_clean',z,'clean','2020','2050')  ;
eq19_NPD2020('pipe_dirty',z,'dirty','2020')..   NTCapL('pipe_dirty',z,'dirty','2020') =e= DTCapL('pipe_dirty',z,'dirty','2020','2025') + DTCapL('pipe_dirty',z,'dirty','2020','2030') + DTCapL('pipe_dirty',z,'dirty','2020','2035') + DTCapL('pipe_dirty',z,'dirty','2020','2040') + DTCapL('pipe_dirty',z,'dirty','2020','2045') + DTCapL('pipe_dirty',z,'dirty','2020','2050')  ;

eq19_TC2020('truck_clean',z,'clean','2020')..       NTCapL('truck_clean',z,'clean','2020') =e= DTCapL('truck_clean',z,'clean','2020','2025') + DTCapL('truck_clean',z,'clean','2020','2030') + DTCapL('truck_clean',z,'clean','2020','2035')    ;
eq19_TC2025('truck_clean',z,'clean','2025')..       NTCapL('truck_clean',z,'clean','2025') =e= DTCapL('truck_clean',z,'clean','2025','2030') + DTCapL('truck_clean',z,'clean','2025','2035') + DTCapL('truck_clean',z,'clean','2025','2040')    ;
eq19_TC2030('truck_clean',z,'clean','2030')..       NTCapL('truck_clean',z,'clean','2030') =e= DTCapL('truck_clean',z,'clean','2030','2035') + DTCapL('truck_clean',z,'clean','2030','2040') + DTCapL('truck_clean',z,'clean','2035','2045')    ;
eq19_TC2035('truck_clean',z,'clean','2035')..       NTCapL('truck_clean',z,'clean','2035') =e= DTCapL('truck_clean',z,'clean','2035','2040') + DTCapL('truck_clean',z,'clean','2035','2045') + DTCapL('truck_clean',z,'clean','2035','2050')    ;

eq19_TD2020('truck_dirty',z,'dirty','2020')..       NTCapL('truck_dirty',z,'dirty','2020') =e= DTCapL('truck_dirty',z,'dirty','2020','2025') + DTCapL('truck_dirty',z,'dirty','2020','2030') + DTCapL('truck_dirty',z,'dirty','2020','2035')    ;
eq19_TD2025('truck_dirty',z,'dirty','2025')..       NTCapL('truck_dirty',z,'dirty','2025') =e= DTCapL('truck_dirty',z,'dirty','2025','2030') + DTCapL('truck_dirty',z,'dirty','2025','2035') + DTCapL('truck_dirty',z,'dirty','2025','2040')    ;
eq19_TD2030('truck_dirty',z,'dirty','2030')..       NTCapL('truck_dirty',z,'dirty','2030') =e= DTCapL('truck_dirty',z,'dirty','2030','2035') + DTCapL('truck_dirty',z,'dirty','2030','2040') + DTCapL('truck_dirty',z,'dirty','2035','2045')    ;
eq19_TD2035('truck_dirty',z,'dirty','2035')..       NTCapL('truck_dirty',z,'dirty','2035') =e= DTCapL('truck_dirty',z,'dirty','2035','2040') + DTCapL('truck_dirty',z,'dirty','2035','2045') + DTCapL('truck_dirty',z,'dirty','2035','2050')    ;

eq19_GD2020('GD_repurpose_dirty',z,'dirty','2020')..  NTCapL('GD_repurpose_dirty',z,'dirty','2020') =e= DTCapL('GD_repurpose_dirty',z,'dirty','2020','2025') + DTCapL('GD_repurpose_dirty',z,'dirty','2020','2030') + DTCapL('GD_repurpose_dirty',z,'dirty','2020','2035') + DTCapL('GD_repurpose_dirty',z,'dirty','2020','2040') + DTCapL('GD_repurpose_dirty',z,'dirty','2020','2045') + DTCapL('GD_repurpose_dirty',z,'dirty','2020','2050')  ;

eq19_GDB2020('GD_Blended',z,'blend','2020')..  NTCapL('GD_Blended',z,'blend','2020') =e= DTCapL('GD_Blended',z,'blend','2020','2025') + DTCapL('GD_Blended',z,'blend','2020','2030') + DTCapL('GD_Blended',z,'blend','2020','2035') + DTCapL('GD_Blended',z,'blend','2020','2040') + DTCapL('GD_Blended',z,'blend','2020','2045') + DTCapL('GD_Blended',z,'blend','2020','2050')  ;



*-------------------- Regional Transport Capacities --------------------------------------------------------
eq20(l,z,zd,g,yd).. ITCapR(l,z,zd,g,yd) =e=  sum(y$(y.val <= yd.val), VTCapR(l,z,zd,g,y,yd) )  ;

eq21(l,z,zd,g,y,ys)$(y.val <= ys.val).. VTCapR(l,z,zd,g,y,ys) =e= NTCapR(l,z,zd,g,y) - sum(yd$(yd.val <= ys.val), DTCapR(l,z,zd,g,y,yd) )   ;


eq22_NPC2020('pipe_clean',z,zd,'clean','2020')..   NTCapR('pipe_clean',z,zd,'clean','2020') =e= DTCapR('pipe_clean',z,zd,'clean','2020','2025') + DTCapR('pipe_clean',z,zd,'clean','2020','2030') + DTCapR('pipe_clean',z,zd,'clean','2020','2035') + DTCapR('pipe_clean',z,zd,'clean','2020','2040') + DTCapR('pipe_clean',z,zd,'clean','2020','2045') + DTCapR('pipe_clean',z,zd,'clean','2020','2050')  ;
eq22_NPD2020('pipe_dirty',z,zd,'dirty','2020')..   NTCapR('pipe_dirty',z,zd,'dirty','2020') =e= DTCapR('pipe_dirty',z,zd,'dirty','2020','2025') + DTCapR('pipe_dirty',z,zd,'dirty','2020','2030') + DTCapR('pipe_dirty',z,zd,'dirty','2020','2035') + DTCapR('pipe_dirty',z,zd,'dirty','2020','2040') + DTCapR('pipe_dirty',z,zd,'dirty','2020','2045') + DTCapR('pipe_dirty',z,zd,'dirty','2020','2050')  ;

eq22_TC2020('truck_clean',z,zd,'clean','2020')..       NTCapR('truck_clean',z,zd,'clean','2020') =e= DTCapR('truck_clean',z,zd,'clean','2020','2025') + DTCapR('truck_clean',z,zd,'clean','2020','2030') + DTCapR('truck_clean',z,zd,'clean','2020','2035')    ;
eq22_TC2025('truck_clean',z,zd,'clean','2025')..       NTCapR('truck_clean',z,zd,'clean','2025') =e= DTCapR('truck_clean',z,zd,'clean','2025','2030') + DTCapR('truck_clean',z,zd,'clean','2025','2035') + DTCapR('truck_clean',z,zd,'clean','2025','2040')    ;
eq22_TC2030('truck_clean',z,zd,'clean','2030')..       NTCapR('truck_clean',z,zd,'clean','2030') =e= DTCapR('truck_clean',z,zd,'clean','2030','2035') + DTCapR('truck_clean',z,zd,'clean','2030','2040') + DTCapR('truck_clean',z,zd,'clean','2035','2045')    ;
eq22_TC2035('truck_clean',z,zd,'clean','2035')..       NTCapR('truck_clean',z,zd,'clean','2035') =e= DTCapR('truck_clean',z,zd,'clean','2035','2040') + DTCapR('truck_clean',z,zd,'clean','2035','2045') + DTCapR('truck_clean',z,zd,'clean','2035','2050')    ;

eq22_TD2020('truck_dirty',z,zd,'dirty','2020')..       NTCapR('truck_dirty',z,zd,'dirty','2020') =e= DTCapR('truck_dirty',z,zd,'dirty','2020','2025') + DTCapR('truck_dirty',z,zd,'dirty','2020','2030') + DTCapR('truck_dirty',z,zd,'dirty','2020','2035')    ;
eq22_TD2025('truck_dirty',z,zd,'dirty','2025')..       NTCapR('truck_dirty',z,zd,'dirty','2025') =e= DTCapR('truck_dirty',z,zd,'dirty','2025','2030') + DTCapR('truck_dirty',z,zd,'dirty','2025','2035') + DTCapR('truck_dirty',z,zd,'dirty','2025','2040')    ;
eq22_TD2030('truck_dirty',z,zd,'dirty','2030')..       NTCapR('truck_dirty',z,zd,'dirty','2030') =e= DTCapR('truck_dirty',z,zd,'dirty','2030','2035') + DTCapR('truck_dirty',z,zd,'dirty','2030','2040') + DTCapR('truck_dirty',z,zd,'dirty','2035','2045')    ;
eq22_TD2035('truck_dirty',z,zd,'dirty','2035')..       NTCapR('truck_dirty',z,zd,'dirty','2035') =e= DTCapR('truck_dirty',z,zd,'dirty','2035','2040') + DTCapR('truck_dirty',z,zd,'dirty','2035','2045') + DTCapR('truck_dirty',z,zd,'dirty','2035','2050')    ;



eq23(l,z,g,y,yd)$(y.val > yd.val)..     VTCapL(l,z,g,y,yd) =e= 0 ;
eq24(l,z,g,y,yd)$(y.val >= yd.val)..    DTCapL(l,z,g,y,yd) =e= 0 ;
eq25(l,z,zd,g,y,yd)$(y.val > yd.val)..  VTCapR(l,z,zd,g,y,yd) =e= 0  ;
eq26(l,z,zd,g,y,yd)$(y.val >= yd.val).. DTCapR(l,z,zd,g,y,yd) =e= 0 ;


*----------------------------------- Transportation Operating Costs ------------------------------------------------------

eq27..      TOC =e= TOC_R + TOC_L ;
eq28..      TOC_R =e= (sum((l,z,zd,g,y)$(y.val lt 2050), (( (alpha * OCostTR(l,g,y) * ITCapR(l,z,zd,g,y) * dR(z,zd)) + ( LUTR(l) * Q(l,z,zd,g,y) )  ) *
                                (( (1)/( (1+r)**(y.val - 2020) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 1) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 2) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 3) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 4) ) ))) ) )
                            + (sum((l,z,zd,g,y)$(y.val lt 2050), TransRFixedOPEX(l) * (CCostTR(l,g,y) * ITCapR(l,z,zd,g,y) * dR(z,zd) ) *
                            (   ( (1)/( (1+r)**(y.val - 2020) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 1) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 2) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 3) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 4) ) ))  )  )
                            + (sum((l,z,zd,g,y)$(y.val eq 2050),( (alpha * OCostTR(l,g,y) * ITCapR(l,z,zd,g,y) * dR(z,zd)) + ( LUTR(l) * ITCapR(l,z,zd,g,y) )  ) *
                                (( (1)/( (1+r)**(y.val - 2020) )  ))))
                            + (sum((l,z,zd,g,y)$(y.val eq 2050), TransRFixedOPEX(l) * (CCostTR(l,g,y) * ITCapR(l,z,zd,g,y) * dR(z,zd) ) *
                                (( (1)/( (1+r)**(y.val - 2020) ) ) )))
                            ;


eq29..      TOC_L =e= (sum((l,z,g,y)$(y.val lt 2050), (( (alpha * OCostTL(l,g,y) * ITCapL(l,z,g,y) * dL(z,y)) + ( LUTL(l) * QLOC(l,z,g,y) )  ) *
                                (( (1)/( (1+r)**(y.val - 2020) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 1) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 2) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 3) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 4) ) ))) ) )
                            + (sum((l,z,g,y)$(y.val lt 2050), TransLFixedOPEX(l) * (CCostTL(l,g,y) * ITCapL(l,z,g,y) * dL(z,y) ) *
                            (   ( (1)/( (1+r)**(y.val - 2020) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 1) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 2) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 3) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 4) ) ))  )  )
                            + (sum((l,z,g,y)$(y.val eq 2050),( (alpha * OCostTL(l,g,y) * ITCapL(l,z,g,y) * dL(z,y)) + ( LUTL(l) * QLOC(l,z,g,y) )  ) *
                                (( (1)/( (1+r)**(y.val - 2020) )  ))))
                            + (sum((l,z,g,y)$(y.val eq 2050), TransLFixedOPEX(l) * (CCostTL(l,g,y) * ITCapL(l,z,g,y) * dL(z,y) ) *
                                (( (1)/( (1+r)**(y.val - 2020) ) ) )))
                            ;


*----------------------------------- Transportation Capital Costs ------------------------------------------------------
eq30..      TCC =e= TCC_R + TCC_L ;
eq31..      TCC_R =e= sum((l,z,zd,g,y), (CCostTR(l,g,y) * NTCapR(l,z,zd,g,y) * dR(z,zd) * 1/((1+r)**(y.val - 2020)  )  )) ;
eq32..      TCC_L =e= sum((l,z,g,y), (CCostTL(l,g,y) * NTCapL(l,z,g,y) * dL(z,y) * 1/((1+r)**(y.val - 2020)  )  )) ;

*----------------------------------- Transportation Salvage Value ------------------------------------------------------
eq33..      TSV =e= TSV_R + TSV_L ;
eq34..      TSV_R =e= sum((l,z,zd,g,y), (CCostTR(l,g,y) * VTCapR(l,z,zd,g,y,'2050') * dR(z,zd)) * ((Ltrans(l) - (2051 - y.val))/(Ltrans(l)) * (1/((1+r)**(2051 - 2020)))   ) )    ;
eq35..      TSV_L =e= sum((l,z,g,y), (CCostTL(l,g,y) * VTCapL(l,z,g,y,'2050') * dL(z,y)) * ((Ltrans(l) - (2051 - y.val))/(Ltrans(l)) * (1/((1+r)**(2051 - 2020)))   ) )    ;



***************************************************************************************************************************
*----------------------------------- Purification Constraints ------------------------------------------------------
***************************************************************************************************************************

Positive Variables
    IPurCapC(c,z,y)     "Installed centralised cleaning capacity (kW)"

    IPurCapL_clean(c,z,y)    "Installed localised purification capacity from clean hydrogen (kW)"
    IPurCapL_dirty(c,z,y)    "Installed localised purification capacity from dirty hydrogen (kW)"
    IPurCapL_blend(c,z,y)    "Installed localised purification capacity from blended hydrogen (kW)"

    VPurCapC(c,z,y,y)       "Vintage centralised cleaning capacity (kW)"
    DPurCapC(c,z,y,y)       "Decomissioned centralised cleaning capacity (kW)"
    NPurCapC(c,z,y)         "Newly installed centralised cleaning capacity (kW)"

    VPurCapL_clean(c,z,y,y)     "Vintage localised purification capacity from clean hydrogen (kW)"
    DPurCapL_clean(c,z,y,y)     "Decomissioned localised purification capacity from clean hydrogen (kW)"
    NPurCapL_clean(c,z,y)       "Newly installed localised purification capacity from clean hydrogen (kW)"

    VPurCapL_dirty(c,z,y,y)     "Vintage localised purification capacity from dirty hydrogen (kW)"
    DPurCapL_dirty(c,z,y,y)     "Decomissioned localised purification capacity from dirty hydrogen (kW)"
    NPurCapL_dirty(c,z,y)       "Newly installed localised purification capacity from dirty hydrogen (kW)"

    VPurCapL_blend(c,z,y,y)     "Vintage localised purification capacity from blended hydrogen (kW)"
    DPurCapL_blend(c,z,y,y)     "Decomissioned localised purification capacity from blended hydrogen (kW)"
    NPurCapL_blend(c,z,y)       "Newly installed localised purification capacity from blended hydrogen (kW)"

    PurOC       "Purification operating costs ()"
    PurCC       "Total purification capital costs ()"
    PurSV       "Purification salvage value ()"
    ;

Parameters
LPur(c,y) "Lifetime of purification technology";
Lpur('PSA_dirtyC','2020')=25;
Lpur('PSA_dirtyC','2025')=25;
Lpur('PSA_dirtyC','2030')=25;
Lpur('PSA_dirtyC','2035')=25;
Lpur('PSA_dirtyC','2040')=25;
Lpur('PSA_dirtyC','2045')=25;
Lpur('PSA_dirtyC','2050')=25;

Lpur('PSA_clean','2020')=25;
Lpur('PSA_clean','2025')=25;
Lpur('PSA_clean','2030')=25;
Lpur('PSA_clean','2035')=25;
Lpur('PSA_clean','2040')=25;
Lpur('PSA_clean','2045')=25;
Lpur('PSA_clean','2050')=25;

Lpur('PSA_dirty','2020')=25;
Lpur('PSA_dirty','2025')=25;
Lpur('PSA_dirty','2030')=25;
Lpur('PSA_dirty','2035')=25;
Lpur('PSA_dirty','2040')=25;
Lpur('PSA_dirty','2045')=25;
Lpur('PSA_dirty','2050')=25;

Lpur('PSA_blend','2020')=25;
Lpur('PSA_blend','2025')=25;
Lpur('PSA_blend','2030')=25;
Lpur('PSA_blend','2035')=25;
Lpur('PSA_blend','2040')=25;
Lpur('PSA_blend','2045')=25;
Lpur('PSA_blend','2050')=25;

Lpur('Membrane_blend','2020')=5;
Lpur('Membrane_blend','2025')=5;
Lpur('Membrane_blend','2030')=10;
Lpur('Membrane_blend','2035')=15;
Lpur('Membrane_blend','2040')=20;
Lpur('Membrane_blend','2045')=25;
Lpur('Membrane_blend','2050')=25;



Parameters
CCostC_dirty(c,y)   "Centralised Capital cleaning costs (from dirty to clean), of purification tech c";
CCostC_dirty('PSA_dirtyC','2020')=653.788352450051;
CCostC_dirty('PSA_dirtyC','2025')=576.050101712261;
CCostC_dirty('PSA_dirtyC','2030')=507.555263777903;
CCostC_dirty('PSA_dirtyC','2035')=447.204757056592;
CCostC_dirty('PSA_dirtyC','2040')=394.030185492389;
CCostC_dirty('PSA_dirtyC','2045')=347.178299490939;
CCostC_dirty('PSA_dirtyC','2050')=305.897304509298;


Parameters
CCostL_clean(c,y)     "Localised capital purification costs (from clean to pure), of purification tech c";
CCostL_clean('PSA_clean','2020')=2426.1708610919;
CCostL_clean('PSA_clean','2025')=2137.68869706208;
CCostL_clean('PSA_clean','2030')=1883.50830472441;
CCostL_clean('PSA_clean','2035')=1659.5510556993;
CCostL_clean('PSA_clean','2040')=1462.22328808665;
CCostL_clean('PSA_clean','2045')=1288.35864186293;
CCostL_clean('PSA_clean','2050')=1135.16725084777;


Parameters
CCostL_dirty(c,y)   "Localised capital purification costs (from dirty to pure), of purification tech c";
CCostL_dirty('PSA_dirty','2020')=2499.9147344608;
CCostL_dirty('PSA_dirty','2025')=2202.66410629906;
CCostL_dirty('PSA_dirty','2030')=1940.75785797737;
CCostL_dirty('PSA_dirty','2035')=1709.99339051723;
CCostL_dirty('PSA_dirty','2040')=1506.66781205773;
CCostL_dirty('PSA_dirty','2045')=1327.51852052726;
CCostL_dirty('PSA_dirty','2050')=1169.67085129137;


Parameters
CCostL_blend(c,y)    "Localised capital separation costs (from blended to pure), or purificationt tech c";
CCostL_blend('PSA_blend','2020')=7746.7;
CCostL_blend('PSA_blend','2025')=6825.58400774707;
CCostL_blend('PSA_blend','2030')=6013.99267388857;
CCostL_blend('PSA_blend','2035')=5298.90304485805;
CCostL_blend('PSA_blend','2040')=4668.8406523533;
CCostL_blend('PSA_blend','2045')=4113.69539176967;
CCostL_blend('PSA_blend','2050')=3624.55929348056;

CCostL_blend('Membrane_Blend','2020')=10118.9189189189;
CCostL_blend('Membrane_Blend','2025')=7829.82656756754;
CCostL_blend('Membrane_Blend','2030')=6058.57054191482;
CCostL_blend('Membrane_Blend','2035')=4688.00639383273;
CCostL_blend('Membrane_Blend','2040')=3627.48998242588;
CCostL_blend('Membrane_Blend','2045')=2806.88259937336;
CCostL_blend('Membrane_Blend','2050')=2171.91224919555;



Parameters
OCostC_dirty(c,y)   "Centralised operating cleaning costs (from dirty to clean), of purification tech c";
OCostC_dirty('PSA_dirtyC','2020')=0.0328513990538282;
OCostC_dirty('PSA_dirtyC','2025')=0.0356108137934214;
OCostC_dirty('PSA_dirtyC','2030')=0.0361376896576716;
OCostC_dirty('PSA_dirtyC','2035')=0.0350734855926025;
OCostC_dirty('PSA_dirtyC','2040')=0.039909191987414;
OCostC_dirty('PSA_dirtyC','2045')=0.0423181462469095;
OCostC_dirty('PSA_dirtyC','2050')=0.0447271005064051;


Parameters
OCostL_clean(c,y)     "Localised operating purification costs (from clean to pure), of purification tech c";
OCostL_clean('PSA_clean','2020')=0.0369078869579384;
OCostL_clean('PSA_clean','2025')=0.0396673016975316;
OCostL_clean('PSA_clean','2030')=0.0401941775617818;
OCostL_clean('PSA_clean','2035')=0.0391299734967127;
OCostL_clean('PSA_clean','2040')=0.0439656798915242;
OCostL_clean('PSA_clean','2045')=0.0463746341510198;
OCostL_clean('PSA_clean','2050')=0.0487835884105153;

Parameters
OCostL_dirty(c,y)   "Localised operating purification costs (from dirty to pure), of purification tech c";
OCostL_dirty('PSA_dirty','2020')=0.0370734547214897;
OCostL_dirty('PSA_dirty','2025')=0.0398328694610829;
OCostL_dirty('PSA_dirty','2030')=0.0403597453253331;
OCostL_dirty('PSA_dirty','2035')=0.039295541260264;
OCostL_dirty('PSA_dirty','2040')=0.0441312476550755;
OCostL_dirty('PSA_dirty','2045')=0.0465402019145711;
OCostL_dirty('PSA_dirty','2050')=0.0489491561740666;


Parameters
OCostL_blend(c,y)   "Localised operating separation costs (from blend to pure), or purification tech c";
OCostL_blend('PSA_blend','2020')=0.048868318720143;
OCostL_blend('PSA_blend','2025')=0.0516277334597362;
OCostL_blend('PSA_blend','2030')=0.0521546093239864;
OCostL_blend('PSA_blend','2035')=0.0510904052589173;
OCostL_blend('PSA_blend','2040')=0.0559261116537288;
OCostL_blend('PSA_blend','2045')=0.0583350659132243;
OCostL_blend('PSA_blend','2050')=0.0607440201727199;


OCostL_blend('Membrane_Blend','2020')=0.0881843323669325;
OCostL_blend('Membrane_Blend','2025')=0.0892811997259209;
OCostL_blend('Membrane_Blend','2030')=0.0894906328819603;
OCostL_blend('Membrane_Blend','2035')=0.0890676117660953;
OCostL_blend('Membrane_Blend','2040')=0.0909898050580329;
OCostL_blend('Membrane_Blend','2045')=0.0919473643761824;
OCostL_blend('Membrane_Blend','2050')=0.0929049236943319;


Parameters
EmissionFactorPur(c,y)  "Emission factor associated with purification technologies (kgCO2/kWhH2)";
EmissionFactorPur('PSA_dirtyC','2020')=0.081329367138934;
EmissionFactorPur('PSA_dirtyC','2025')=0.060951009265498;
EmissionFactorPur('PSA_dirtyC','2030')=0.0478985033571862;
EmissionFactorPur('PSA_dirtyC','2035')=0.0236630183141711;
EmissionFactorPur('PSA_dirtyC','2040')=0.0236630183141711;
EmissionFactorPur('PSA_dirtyC','2045')=0.0198165977985034;
EmissionFactorPur('PSA_dirtyC','2050')=0.0159701772828357;

EmissionFactorPur('PSA_clean','2020')=0.081329367138934;
EmissionFactorPur('PSA_clean','2025')=0.060951009265498;
EmissionFactorPur('PSA_clean','2030')=0.0478985033571862;
EmissionFactorPur('PSA_clean','2035')=0.0236630183141711;
EmissionFactorPur('PSA_clean','2040')=0.0236630183141711;
EmissionFactorPur('PSA_clean','2045')=0.0198165977985034;
EmissionFactorPur('PSA_clean','2050')=0.0159701772828357;

EmissionFactorPur('PSA_dirty','2020')=0.081329367138934;
EmissionFactorPur('PSA_dirty','2025')=0.060951009265498;
EmissionFactorPur('PSA_dirty','2030')=0.0478985033571862;
EmissionFactorPur('PSA_dirty','2035')=0.0236630183141711;
EmissionFactorPur('PSA_dirty','2040')=0.0236630183141711;
EmissionFactorPur('PSA_dirty','2045')=0.0198165977985034;
EmissionFactorPur('PSA_dirty','2050')=0.0159701772828357;

EmissionFactorPur('PSA_blend','2020')=0.081329367138934;
EmissionFactorPur('PSA_blend','2025')=0.060951009265498;
EmissionFactorPur('PSA_blend','2030')=0.0478985033571862;
EmissionFactorPur('PSA_blend','2035')=0.0236630183141711;
EmissionFactorPur('PSA_blend','2040')=0.0236630183141711;
EmissionFactorPur('PSA_blend','2045')=0.0198165977985034;
EmissionFactorPur('PSA_blend','2050')=0.0159701772828357;

EmissionFactorPur('Membrane_Blend','2020')=0.0323284234377263;
EmissionFactorPur('Membrane_Blend','2025')=0.0242280261830355;
EmissionFactorPur('Membrane_Blend','2030')=0.0190396550844815;
EmissionFactorPur('Membrane_Blend','2035')=0.00940604977988304;
EmissionFactorPur('Membrane_Blend','2040')=0.00940604977988304;
EmissionFactorPur('Membrane_Blend','2045')=0.00787709762490512;
EmissionFactorPur('Membrane_Blend','2050')=0.0063481454699272;



Equations

    eq38    "Centralised cleaning cpaacity"
    eq39    "Localised purification capacity from clean hydrogen"
    eq40    "Localised purification capacity from dirty hydrogen"
    eq40a   "Localised separation capacity from blended hydrogen (kW)"

*-------- Centralised Purification -------------------------
    eq41    "Installed capacity of centrilised cleaning"
    eq42    "Vintage capacity of centrilised cleaning"

    eq43CPSAD_2020   "Newly installed capacity of centralised purification from dirty grade"
    eq43CPSAD_2025

*-------- Localised clean Purification -------------------------
    eq44    "Installed capacity of localised purification from clean hydrogen"
    eq45    "Vintage capacity of localised purification from clean hydrogen"

    eq46PSAc_2020   "Newly installed capacity of localised purification from clean grade"
    eq46PSAc_2025

*-------- Localised dirty Purification -------------------------
    eq47    "Installed capacity of localised purification from dirty hydrogen"
    eq48    "Vintage capacity of localised purification from dirty hydrogen"

    eq49PSAd_2020    "Newly installed capacity of localised purification from dirty hydrogen"
    eq49PSAd_2025

*-------- Localised blended Purification -------------------------
    eq47b   "Installed capacity of localised separation from blended hydrogen"
    eq48b   "Vintage capacity of localised separation from blended hydrogen"

    eq49bPSAb_2020  "Newly installed capacity of localised purification from blended hydrogen"
    eq49bPSAb_2025
    eq49bMemb_2020
    eq49bMemb_2025
    eq49bMemb_2030
    eq49bMemb_2035


    eq50    "Vintage centralised cleaning boundary condition"
    eq51    "Decomissioned centralise cleaning boundary condition"
    eq52    "Vintage localised purification from clean hydrogen boundary condition"
    eq53    "Decomissioned localised purification from clean hydrogen boundary condition"
    eq54    "Vintage localised purification from dirty hydrogen boundary condition"
    eq55    "Decomissioned localised purification from dirty hydrogen boundary condition"
    eq54b   "Vintage localised separation from blended hydrogen boundary condition"
    eq55b   "Decomissioned localised separation from blended hydrogen boundary condition"

    eq56    "Purification total operating costs"
    eq57    "Purification total capital cost"
    eq58    "Purification salvage value"
    ;

eq38(z,y)..    QCLEANED(z,y) =l= sum(cd(c), IPurCapC(c,z,y) )   ;

*For some reason this equation does QLOC*2 when solving, so dividing by 2 in here!
eq39(z,y)..     sum((l,g), (QLOC(l,z,'clean',y))/(3) ) =l= sum(cc(c), IPurCapL_clean(c,z,y) )    ;

*For some reason this equation does QLOC*2 when solving, so dividing by 2 in here!
eq40(z,y)..     sum((l,g), (QLOC(l,z,'dirty',y)/(3)  )) =l= sum(cd(c), IPurCapL_dirty(c,z,y) )    ;

eq40a(z,y)..    sum((l,g), (QLOC(l,z,'blend',y)/(3) )) =l= sum(cb(c), IPurCapL_blend(c,z,y))  ;


*-------------- Centralised Purification from dirty to clean---------------------------------------------
eq41(c,z,yd)..  IPurCapC(c,z,yd) =e= sum(y$(y.val <= yd.val), VPurCapC(c,z,y,yd) )  ;

eq42(c,z,y,ys)$(y.val <= ys.val)..   VPurCapC(c,z,y,ys) =e= NPurCapC(c,z,y) - sum(yd$(yd.val <= ys.val), DPurCapC(c,z,y,yd) )    ;

eq43CPSAD_2020('PSA_dirtyC',z,'2020')..  NPurCapC('PSA_dirtyC',z,'2020') =e= DPurCapC('PSA_dirtyC',z,'2020','2025') + DPurCapC('PSA_dirtyC',z,'2020','2030') + DPurCapC('PSA_dirtyC',z,'2020','2035') + DPurCapC('PSA_dirtyC',z,'2020','2040') + DPurCapC('PSA_dirtyC',z,'2020','2045') ;
eq43CPSAD_2025('PSA_dirtyC',z,'2025')..  NPurCapC('PSA_dirtyC',z,'2025') =e= DPurCapC('PSA_dirtyC',z,'2025','2030') + DPurCapC('PSA_dirtyC',z,'2025','2035') + DPurCapC('PSA_dirtyC',z,'2025','2040') + DPurCapC('PSA_dirtyC',z,'2025','2045') + DPurCapC('PSA_dirtyC',z,'2025','2050') ;


*-------------- Localised Purification from clean to pure---------------------------------------------
eq44(c,z,yd)..  IPurCapL_clean(c,z,yd) =e= sum(y$(y.val <= yd.val), VPurCapL_clean(c,z,y,yd) )  ;

eq45(c,z,y,ys)$(y.val <= ys.val)..  VPurCapL_clean(c,z,y,ys) =e= NPurCapL_clean(c,z,y) - sum(yd$(yd.val <= ys.val), DPurCapL_clean(c,z,y,yd) ) ;

eq46PSAc_2020('PSA_clean',z,'2020')..  NPurCapL_clean('PSA_clean',z,'2020') =e= DPurCapL_clean('PSA_clean',z,'2020','2025') + DPurCapL_clean('PSA_clean',z,'2020','2030') + DPurCapL_clean('PSA_clean',z,'2020','2035') + DPurCapL_clean('PSA_clean',z,'2020','2040') + DPurCapL_clean('PSA_clean',z,'2020','2045')   ;
eq46PSAc_2025('PSA_clean',z,'2025')..  NPurCapL_clean('PSA_clean',z,'2025') =e= DPurCapL_clean('PSA_clean',z,'2025','2030') + DPurCapL_clean('PSA_clean',z,'2025','2035') + DPurCapL_clean('PSA_clean',z,'2025','2040') + DPurCapL_clean('PSA_clean',z,'2025','2045') + DPurCapL_clean('PSA_clean',z,'2025','2050')   ;


*-------------- Localised Purification from dirty to pure---------------------------------------------
eq47(c,z,yd)..  IPurCapL_dirty(c,z,yd) =e= sum(y$(y.val <= yd.val), VPurCapL_dirty(c,z,y,yd) )  ;

eq48(c,z,y,ys)$(y.val <= ys.val)..  VPurCapL_dirty(c,z,y,ys) =e= NPurCapL_dirty(c,z,y) - sum(yd$(yd.val <= ys.val), DPurCapL_dirty(c,z,y,yd) )  ;

eq49PSAd_2020('PSA_dirty',z,'2020')..  NPurCapL_dirty('PSA_dirty',z,'2020') =e= DPurCapL_dirty('PSA_dirty',z,'2020','2025') + DPurCapL_dirty('PSA_dirty',z,'2020','2030') + DPurCapL_dirty('PSA_dirty',z,'2020','2035') + DPurCapL_dirty('PSA_dirty',z,'2020','2040') + DPurCapL_dirty('PSA_dirty',z,'2020','2045')  ;
eq49PSAd_2025('PSA_dirty',z,'2025')..  NPurCapL_dirty('PSA_dirty',z,'2025') =e= DPurCapL_dirty('PSA_dirty',z,'2025','2030') + DPurCapL_dirty('PSA_dirty',z,'2025','2035') + DPurCapL_dirty('PSA_dirty',z,'2025','2040') + DPurCapL_dirty('PSA_dirty',z,'2025','2045') + DPurCapL_dirty('PSA_dirty',z,'2025','2050')  ;


*-------------- Localised Purification from blended to pure---------------------------------------------
eq47b(c,z,yd)..  IPurCapL_blend(c,z,yd) =e= sum(y$(y.val <= yd.val), VPurCapL_blend(c,z,y,yd) )  ;

eq48b(c,z,y,ys)$(y.val <= ys.val)..  VPurCapL_blend(c,z,y,ys) =e= NPurCapL_blend(c,z,y) - sum(yd$(yd.val <= ys.val), DPurCapL_blend(c,z,y,yd) )  ;

eq49bPSAb_2020('PSA_blend',z,'2020')..  NPurCapL_blend('PSA_blend',z,'2020') =e= DPurCapL_blend('PSA_blend',z,'2020','2025') + DPurCapL_blend('PSA_blend',z,'2020','2030') + DPurCapL_blend('PSA_blend',z,'2020','2035') + DPurCapL_blend('PSA_blend',z,'2020','2040') + DPurCapL_blend('PSA_blend',z,'2020','2045')  ;
eq49bPSAb_2025('PSA_blend',z,'2025')..  NPurCapL_blend('PSA_blend',z,'2025') =e= DPurCapL_blend('PSA_blend',z,'2025','2030') + DPurCapL_blend('PSA_blend',z,'2025','2035') + DPurCapL_blend('PSA_blend',z,'2025','2040') + DPurCapL_blend('PSA_blend',z,'2025','2045') + DPurCapL_blend('PSA_blend',z,'2025','2050')  ;

eq49bMemb_2020('Membrane_blend',z,'2020').. NPurCapL_blend('Membrane_blend',z,'2020') =e= DPurCapL_blend('Membrane_blend',z,'2020','2025')  ;
eq49bMemb_2025('Membrane_blend',z,'2025').. NPurCapL_blend('Membrane_blend',z,'2025') =e= DPurCapL_blend('Membrane_blend',z,'2025','2030')  ;
eq49bMemb_2030('Membrane_blend',z,'2030').. NPurCapL_blend('Membrane_blend',z,'2030') =e= DPurCapL_blend('Membrane_blend',z,'2030','2035') + DPurCapL_blend('Membrane_blend',z,'2030','2040')  ;
eq49bMemb_2035('Membrane_blend',z,'2035').. NPurCapL_blend('Membrane_blend',z,'2035') =e= DPurCapL_blend('Membrane_blend',z,'2035','2040') + DPurCapL_blend('Membrane_blend',z,'2035','2045') + DPurCapL_blend('Membrane_blend',z,'2035','2050')  ;




eq50(c,z,y,yd)$(y.val > yd.val)..   VPurCapC(c,z,y,yd) =e= 0    ;
eq51(c,z,y,yd)$(y.val >= yd.val)..  DPurCapC(c,z,y,yd) =e= 0    ;
eq52(c,z,y,yd)$(y.val > yd.val)..   VPurCapL_clean(c,z,y,yd) =e= 0  ;
eq53(c,z,y,yd)$(y.val >= yd.val)..  DPurCapL_clean(c,z,y,yd) =e= 0  ;
eq54(c,z,y,yd)$(y.val > yd.val)..   VPurCapL_dirty(c,z,y,yd) =e= 0  ;
eq55(c,z,y,yd)$(y.val >= yd.val)..  DPurCapL_dirty(c,z,y,yd) =e= 0  ;
eq54b(c,z,y,yd)$(y.val > yd.val)..  VPurCapL_blend(c,z,y,yd) =e= 0  ;
eq55b(c,z,y,yd)$(y.val >= yd.val).. DPurCapL_blend(c,z,y,yd) =e= 0  ;


******************** Purification Operating Costs *****************************************************
**** NOTE try to find a way to allow me to replace the long discount factor with the DFOC variable WITHOUT it making it nonlinear
eq56..      PurOC =e=  sum((c,z,y)$(y.val lt 2050), ( (alpha * IPurCapC(c,z,y) * OCostC_dirty(c,y)) * (( (1)/( (1+r)**(y.val - 2020) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 1) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 2) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 3) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 4) ) )) ) )
                        + sum((c,z,y)$(y.val lt 2050), ( (alpha * IPurCapL_clean(c,z,y) * OCostL_clean(c,y)) * (( (1)/( (1+r)**(y.val - 2020) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 1) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 2) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 3) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 4) ) ))  ) )
                        + sum((c,z,y)$(y.val lt 2050), ( (alpha * IPurCapL_dirty(c,z,y) * OCostL_dirty(c,y)) * (( (1)/( (1+r)**(y.val - 2020) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 1) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 2) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 3) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 4) ) ))  ) )
                        + sum((c,z,y)$(y.val lt 2050), ( (alpha * IPurCapL_blend(c,z,y) * OCostL_blend(c,y)) * (( (1)/( (1+r)**(y.val - 2020) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 1) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 2) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 3) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 4) ) ))  ) )

                        + sum((c,z,y)$(y.val eq 2050), (  (alpha * IPurCapC(c,z,y) * OCostC_dirty(c,y)) * (( (1)/( (1+r)**(y.val - 2020) ) )  )))
                        + sum((c,z,y)$(y.val eq 2050), ( (alpha * IPurCapL_clean(c,z,y) * OCostL_clean(c,y)) * (( (1)/( (1+r)**(y.val - 2020)  )  ) )))
                        + sum((c,z,y)$(y.val eq 2050), ( (alpha * IPurCapL_dirty(c,z,y) * OCostL_dirty(c,y)) * (( (1)/( (1+r)**(y.val - 2020)  )  ) )))
                        + sum((c,z,y)$(y.val eq 2050), ( (alpha * IPurCapL_blend(c,z,y) * OCostL_blend(c,y)) * (( (1)/( (1+r)**(y.val - 2020)  )  ) )))
                    ;


******************** Purification Capital Costs *****************************************************
eq57..      PurCC =e= sum((c,z,y),( (NPurCapC(c,z,y) * CCostC_dirty(c,y)) * ((1)/((1+r)**(y.val - 2020) ) ) ))
                        + sum((c,z,y), (NPurCapL_clean(c,z,y) * CCostL_clean(c,y)) * ((1)/((1+r)**(y.val - 2020) ) ) )
                        + sum((c,z,y), (NPurCapL_dirty(c,z,y) * CCostL_dirty(c,y)) * ((1)/((1+r)**(y.val - 2020) ) ) )
                        + sum((c,z,y), (NPurCapL_blend(c,z,y) * CCostL_blend(c,y)) * ((1)/((1+r)**(y.val - 2020) ) ) )
                        ;

******************** Purification Salvage Value *****************************************************
eq58..      PurSV =e= sum((c,z,y),( ( VPurCapC(c,z,y,'2050') * CCostC_dirty(c,y)) * ( (Lpur(c,y) - (2051 - y.val))/(Lpur(c,y)) ) * ( (1)/((1+r)**(2051 - 2020)) )  )  )
                        + sum((c,z,y),( VPurCapL_clean (c,z,y,'2050') * CCostL_clean(c,y)) * ( (Lpur(c,y) - (2051 - y.val))/(Lpur(c,y)) ) * ( (1)/((1+r)**(2051 - 2020)) )  )
                        + sum((c,z,y),( VPurCapL_dirty (c,z,y,'2050') * CCostL_dirty(c,y)) * ( (Lpur(c,y) - (2051 - y.val))/(Lpur(c,y)) ) * ( (1)/((1+r)**(2051 - 2020)) )  )
                        + sum((c,z,y),( VPurCapL_blend (c,z,y,'2050') * CCostL_blend(c,y)) * ( (Lpur(c,y) - (2051 - y.val))/(Lpur(c,y)) ) * ( (1)/((1+r)**(2051 - 2020)) )  )
                        ;




***************************************************************************************************************************
*----------------------------------- Refuelling Station Constraints ------------------------------------------------------
***************************************************************************************************************************

Positive Variables
    IRFCap(z,y)     "Installed refuelling station capacity"
    VRFCap(z,y,y)   "Vintage refuelling station capacity"
    NRFCap(z,y)     "Newly installed refuelling station capacity"
    DRFCap(z,y,yd)  "Decomissioned refuelling station capacity"

    RFOC            "Total refuelling station operating cost"
    RFCC            "Total refuelling station capital cost"
    RFSV            "Refuelling station salvage value"
    ;

Parameters
    Lref            "Refuelling station lifetime (years)" / 10 /
    CCostRF      "Refuelling station capital cost (/kW)" / 305.60 /
    OCostRF      "Refuelling station operating cost (/kW)" / 38.83 /
    ;


Equations
    eq59        "Refuelling station capacity"
    eq60        "Installed refuelling station capacity"
    eq61        "Vintage refuelling station capacity"

    eq62_2020        "Newly installed capcaity of refuelling station (Causes infeasibility)"
    eq62_2025
    eq62_2030
    eq62_2035
    eq62_2040


    eq63        "Vintage refuelling station capacity boundary condition"
    eq64        "Decomissioned refuelling station capacity boundary condition"

    eq65        "Refuelling station operating cost"
    eq66        "Refuelling station total capital cost"
    eq67        "Refuelling station salvage value"
    ;

eq59(z,y)..                         (D(z,y) / alpha) =l= IRFCap(z,y) ;

eq60(z,yd)..                        IRFCap(z,yd) =e= sum(y$(y.val <= yd.val), VRFCap(z,y,yd) )    ;

eq61(z,y,ys)$(y.val <= ys.val)..    VRFCap(z,y,ys) =e= NRFCap(z,y) - sum(yd$(yd.val <= ys.val), DRFCap(z,y,yd) )    ;


eq62_2020(z,'2020')..       NRFCap(z,'2020') =e= DRFCap(z,'2020','2025') + DRFCap(z,'2020','2030')    ;
eq62_2025(z,'2025')..       NRFCap(z,'2025') =e= DRFCap(z,'2025','2030') + DRFCap(z,'2025','2035')    ;
eq62_2030(z,'2030')..       NRFCap(z,'2030') =e= DRFCap(z,'2030','2035') + DRFCap(z,'2030','2040')   ;
eq62_2035(z,'2035')..       NRFCap(z,'2035') =e= DRFCap(z,'2035','2040') + DRFCap(z,'2035','2045')   ;
eq62_2040(z,'2040')..       NRFCap(z,'2040') =e= DRFCap(z,'2040','2045') + DRFCap(z,'2040','2050')   ;




eq63(z,y,yd)$(y.val > yd.val)..     VRFCap(z,y,yd) =e= 0    ;

eq64(z,y,yd)$(y.val >= yd.val)..    DRFCap(z,y,yd) =e= 0    ;


******************** Refuelling Station Operating Costs *****************************************************
eq65..              RFOC =e= sum((z,y)$(y.val lt 2050), ( (OCostRF * IRFCap(z,y)) *
                                        (( (1)/( (1+r)**(y.val - 2020) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 1) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 2) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 3) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 4) ) )) )  )
                                    +  sum((z,y)$(y.val eq 2050), ( (OCostRF * IRFCap(z,y)) *
                                        (( (1)/( (1+r)**(y.val - 2020) )))) )
                                        ;

******************** Refuelling Station Capital Costs *****************************************************
eq66..              RFCC =e= sum((z,y), ( (CCostRF * NRFCap(z,y)) * ( (1)/((1+r)**(y.val - 2020) ) ) ) )   ;

******************** Refuelling Station Salvage Value *****************************************************
eq67..              RFSV =e= sum((z,y), ( (CCostRF * VRFCap(z,y,'2050')) * ((Lref - (2051 - y.val))/(Lref)) * ((1)/((1 + r)**(2051 - 2020))) ) )   ;



***************************************************************************************************************************
*----------------------------------- Carbon Emissions ------------------------------------------------------
***************************************************************************************************************************

Variables
    ProdCarbonEmission(y)   "Carbon emissions in time period from production(kgCO2/year)"
    TransCarbonEmission(y)  "Carbon emissions in time period from transport(kgCO2/year)"
    PurCarbonEmission(y)    "Carbon emissions in time period from purification(kgCO2/year)"
    CarbonCost      "Total price associated with carbon emissions ()"
    TotalCarbonEmission(y)  "Total carbone emission in time period (kgCO/yr)"

    ;

Parameters
    CarbonPrice(y) "Carbon price (/kgCO2)";
CarbonPrice('2020')=0.0692786570576081;
CarbonPrice('2025')=0.0750518784790755;
CarbonPrice('2030')=0.0808250999005428;
CarbonPrice('2035')=0.118351039140081;
CarbonPrice('2040')=0.155876978379618;
CarbonPrice('2045')=0.193402917619156;
CarbonPrice('2050')=0.230928856858694;

Parameters
    CarbonPriceFactor / 1 /
    ;





Equations
    eq79    "Annual carbon emissions in each time period of production methods"
    eq80    "Annual carbon emissions in each time period of transport methods"
    eq80b   "Annual carbon emissions in each time period of purification methods"
    eq81    "Total cost associated with Carbon emissions"
    eq82    "Total Carbon Emissions in each time period (kgCO2/yr)"

        ;

eq79(y)..   ProdCarbonEmission(y) =e= sum((p,z,g), EmissionFactorP(p,y) * Alpha * IPRCap(p,z,g,y) )   ;

eq80(y)..   TransCarbonEmission(y) =e= sum((l,z,zd,g), EmissionFactorT(l) * Alpha * ITCAPR(l,z,zd,g,y) * dR(z,zd) ) + sum((l,z,g), EmissionFactorT(l) * Alpha * ITCAPL(l,z,g,y) * dL(z,y) );

eq80b(y)..  PurCarbonEmission(y) =e= sum((c,z), EmissionFactorPur(c,y) * Alpha * IPurCapC(c,z,y) ) + sum((c,z), EmissionFactorPur(c,y) * Alpha * IPurCapL_clean(c,z,y) ) + sum((c,z), EmissionFactorPur(c,y) * Alpha * IPurCapL_dirty(c,z,y) ) + sum((c,z), EmissionFactorPur(c,y) * Alpha * IPurCapL_blend(c,z,y) ) ;

eq81..      CarbonCost =e= sum((y)$(y.val lt 2050), (ProdCarbonEmission(y) * (CarbonPrice(y)* CarbonPriceFactor))  *  (( (1)/( (1+r)**(y.val - 2020) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 1) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 2) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 3) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 4) ) )) )
                                        + sum((y)$(y.val eq 2050), ( ProdCarbonEmission(y) * (CarbonPrice(y) * CarbonPriceFactor) )  * ((1)/( (1+r)**(y.val - 2020)) ) )
                            + sum((y)$(y.val lt 2050), (TransCarbonEmission(y) * (CarbonPrice(y) * CarbonPriceFactor) )  *  (( (1)/( (1+r)**(y.val - 2020) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 1) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 2) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 3) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 4) ) )) )
                                        + sum((y)$(y.val eq 2050), (TransCarbonEmission(y) * (CarbonPrice(y)* CarbonPriceFactor))  * (( (1)/( (1+r)**(y.val - 2020) ) )  ) )
                            + sum((y)$(y.val lt 2050), (PurCarbonEmission(y) * (CarbonPrice(y)* CarbonPriceFactor))  *  (( (1)/( (1+r)**(y.val - 2020) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 1) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 2) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 3) ) ) + ( (1)/( (1+r)**(y.val - 2020 + 4) ) )) )
                                        + sum((y)$(y.val eq 2050), (PurCarbonEmission(y) * (CarbonPrice(y)* CarbonPriceFactor))  * (( (1)/( (1+r)**(y.val - 2020) ) )  ) ) ;

eq82(y)..      TotalCarbonEmission(y) =e= ProdCarbonEmission(y) + TransCarbonEmission(y) + PurCarbonEmission(y)    ;



***************************************************************************************************************************
*----------------------------------- Objective Function ------------------------------------------------------
***************************************************************************************************************************


Variables
    TC      "Total cost of hydrogen supply chain"
    TC_NOCO2
    ;

Equations
    eq68    "Total cost of hydrogen supply chain"
    eq69
    ;

eq68..      TC =e= POC + PCC + TOC + TCC + PurOC + PurCC + RFOC + RFCC - PSV - TSV - PurSV - RFSV + CarbonCost ;

eq69..      TC_NOCO2 =e= TC - CarbonCost ;

OPTION OPTCR = 0;

Option LP = CPLEX ;


Model supplychain /all/ ;

*Production rate dirty grade
PR.FX('Alkaline_elec',z,'dirty',y)=0;
PR.FX('PEM',z,'dirty',y)=0;
PR.FX('SOEC',z,'dirty',y)=0;
PR.FX('Alkaline_elec_renew',z,'dirty',y)=0;
PR.FX('PEM_renew',z,'dirty',y)=0;
PR.FX('SOEC_renew',z,'dirty',y)=0;

*Production rate clean grade
PR.FX('SMR',z,'clean',y)=0;

*Production rate blend grade
PR.FX('Alkaline_elec',z,'blend',y)=0;
PR.FX('PEM',z,'blend',y)=0;
PR.FX('SOEC',z,'blend',y)=0;
PR.FX('Alkaline_elec_renew',z,'blend',y)=0;
PR.FX('PEM_renew',z,'blend',y)=0;
PR.FX('SOEC_renew',z,'blend',y)=0;
PR.FX('SMR',z,'blend',y)=0;

*Regional transport rate clean grade
Q.FX('pipe_dirty',z,zd,'clean',y)=0;
Q.FX('truck_dirty',z,zd,'clean',y)=0;

*Regional transport rate dirty grade
Q.FX('pipe_clean',z,zd,'dirty',y)=0;
Q.FX('truck_clean',z,zd,'dirty',y)=0;

*Regional transport rate blend grade
Q.FX('pipe_clean',z,zd,'blend',y)=0;
Q.FX('pipe_dirty',z,zd,'blend',y)=0;
Q.FX('truck_clean',z,zd,'blend',y)=0;
Q.FX('truck_dirty',z,zd,'blend',y)=0;

*Transport technology that is only available for distribution
Q.FX('GD_repurpose_dirty',z,zd,g,y)=0;
Q.FX('GD_Blended',z,zd,g,y)=0;

*Regional transport capacity
ITCapR.FX('pipe_clean',z,zd,'dirty',y)=0;
ITCapR.FX('pipe_dirty',z,zd,'clean',y)=0;
ITCapR.FX('truck_clean',z,zd,'dirty',y)=0;
ITCapR.FX('truck_dirty',z,zd,'clean',y)=0;
ITCapR.FX('GD_repurpose_dirty',z,zd,g,y)=0;
ITCapR.FX('GD_Blended',z,zd,g,y)=0;

*Local transport rate clean
QLOC.FX('pipe_dirty',z,'clean',y)=0;
QLOC.FX('truck_dirty',z,'clean',y)=0;
QLOC.FX('GD_repurpose_dirty',z,'clean',y)=0;
QLOC.FX('GD_Blended',z,'clean',y)=0;

*Local transport rate dirty
QLOC.FX('pipe_clean',z,'dirty',y)=0;
QLOC.FX('truck_clean',z,'dirty',y)=0;
QLOC.FX('GD_Blended',z,'dirty',y)=0;

*Local transport rate blend
QLOC.FX('pipe_clean',z,'blend',y)=0;
QLOC.FX('pipe_dirty',z,'blend',y)=0;
QLOC.FX('truck_clean',z,'blend',y)=0;
QLOC.FX('truck_dirty',z,'blend',y)=0;
QLOC.FX('GD_repurpose_dirty',z,'blend',y)=0;

*Local transport capacity
ITCapL.FX('pipe_clean',z,'dirty',y)=0;
ITCapL.FX('pipe_dirty',z,'clean',y)=0;
ITCapL.FX('truck_clean',z,'dirty',y)=0;
ITCapL.FX('truck_dirty',z,'clean',y)=0;
ITCapL.FX('GD_repurpose_dirty',z,'clean',y)=0;

*Central Purification capacity
IPurCapC.FX('PSA_Blend',z,y)=0;
IPurCapC.FX('PSA_Clean',z,y)=0;
IPurCapC.FX('Membrane_Blend',z,y)=0;
IPurCapC.FX('PSA_Dirty',z,y)=0;

*Local dirty feed purification
IPurCapL_dirty.FX('PSA_Blend',z,y)=0;
IPurCapL_dirty.FX('PSA_Clean',z,y)=0;
IPurCapL_dirty.FX('Membrane_Blend',z,y)=0;
IPurCapL_dirty.FX('PSA_DirtyC',z,y)=0;

*Local clean feed purification
IPurCapL_clean.FX('PSA_Blend',z,y)=0;
IPurCapL_clean.FX('PSA_Dirty',z,y)=0;
IPurCapL_clean.FX('Membrane_Blend',z,y)=0;
IPurCapL_clean.FX('PSA_DirtyC',z,y)=0;

*Local blend feed purification
IPurCapL_blend.FX('PSA_Dirty',z,y)=0;
IPurCapL_blend.FX('PSA_Clean',z,y)=0;
IPurCapL_blend.FX('PSA_DirtyC',z,y)=0;


Solve supplychain min TC using lp ;
execute_unload 'HSC_Results_LowCO.gdx', PR, Q, QLOC, QCLEANED, IPRCap, DPRCap, NPRCap, ITCapL, NTCapL, ITCapR, NTCapR, IPurCapC, NPurCapC, IPurCapL_clean, NPurCapL_clean, IPurCapL_dirty, NPurCapL_dirty, IPurCapL_blend, NPurCapL_blend, IRFCap, TC, CarbonCost, ProdCarbonEmission, TransCarbonEmission, PurCarbonEmission, ProdCarbonEmission, TC_NOCO2, CarbonPriceFactor   ;


